[{"type":"js","data":"/* Imports for global scope */\n\nAccounts = Package['accounts-base'].Accounts;\nAccountsClient = Package['accounts-base'].AccountsClient;\nPersistentSession = Package['u2622:persistent-session'].PersistentSession;\nSpiderable = Package.spiderable.Spiderable;\nMongo = Package.mongo.Mongo;\nSession = Package.session.Session;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nLog = Package.logging.Log;\nReload = Package.reload.Reload;\nRandom = Package.random.Random;\nEJSON = Package.ejson.EJSON;\nSpacebars = Package.spacebars.Spacebars;\ncheck = Package.check.check;\nMatch = Package.check.Match;\nmarked = Package['chuangbo:marked'].marked;\nFastClick = Package.fastclick.FastClick;\nFlowRouter = Package['kadira:flow-router'].FlowRouter;\nBlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;\nFastRender = Package['meteorhacks:fast-render'].FastRender;\n__init_fast_render = Package['meteorhacks:fast-render'].__init_fast_render;\nMeteor = Package.meteor.Meteor;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nTemplate = Package.templating.Template;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"(function(){\nTemplate.__checkName(\"blog\");\nTemplate[\"blog\"] = new Template(\"Template.blog\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    \"class\": function() {\n      return [ \"blog \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"singlePost\"));\n      }, function() {\n        return \"post\";\n      }) ];\n    }\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"posts\"\n  }, \"\\n\t\t\t\", HTML.Raw('<a class=\"back\" href=\"/\"><i class=\"fa fa-angle-double-up\"></i></a>'), \"\\n\t\t\t\", HTML.A({\n    \"class\": \"search\",\n    href: \"#\"\n  }, HTML.I({\n    \"class\": function() {\n      return [ \"fa \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"searching\"));\n      }, function() {\n        return \"fa-search-minus\";\n      }, function() {\n        return \"fa-search\";\n      }) ];\n    }\n  })), \"\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"searching\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"search\"));\n  }), \"\\n\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"posts\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"posts\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\t\", HTML.Comment(\" post excerpt \"), \"\\n\t\t\t\t\t\", HTML.ARTICLE({\n        \"class\": \"excerpt\"\n      }, \"\\n\t\t\t\t\t\t\", HTML.A({\n        name: function() {\n          return Spacebars.mustache(view.lookup(\"_id\"));\n        },\n        href: function() {\n          return [ \"/blog/\", Spacebars.mustache(view.lookup(\"slug\")) ];\n        }\n      }, \"\\n\t\t\t\t\t\t\t\", HTML.HEADER(\"\\n\t\t\t\t\t\t\t\t\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"published\"));\n      }, function() {\n        return [ \"\\n\t\t\t\t\t\t\t\t\t\", HTML.H2(Blaze.View(\"lookup:date\", function() {\n          return Spacebars.mustache(view.lookup(\"date\"));\n        })), \"\\n\t\t\t\t\t\t\t\t\" ];\n      }), \"\\n\t\t\t\t\t\t\t\"), HTML.DIV(\"\\n\t\t\t\t\t\t\t\t\", HTML.H1(Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"private\"));\n      }, function() {\n        return [ HTML.EM(\"Draft:\"), \" \" ];\n      }), Blaze.View(\"lookup:title\", function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      })), \"\\n\t\t\t\t\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n        return Blaze.View(\"lookup:excerpt\", function() {\n          return Spacebars.mustache(view.lookup(\"excerpt\"));\n        });\n      }), \"\\n\t\t\t\t\t\t\t\"), \"\\n\t\t\t\t\t\t\"), \"\\n\\n\t\t\t\t\t\t\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"tags\"));\n      }, function() {\n        return [ \"\\n\t\t\t\t\t\t\t\", HTML.UL({\n          \"class\": \"tags\"\n        }, \"\\n\t\t\t\t\t\t\t\t\", Blaze.Each(function() {\n          return Spacebars.call(view.lookup(\"tags\"));\n        }, function() {\n          return HTML.LI(HTML.A({\n            href: function() {\n              return Spacebars.mustache(view.lookup(\"uri\"), view.lookup(\".\"));\n            }\n          }, Blaze.View(\"lookup:.\", function() {\n            return Spacebars.mustache(view.lookup(\".\"));\n          })));\n        }), \"\\n\t\t\t\t\t\t\t\"), \"\\n\t\t\t\t\t\t\" ];\n      }), \"\\n\t\t\t\t\t\t\\n\t\t\t\t\t\t\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return [ \"\\n\t\t\t\t\t\t\t\", HTML.Comment(' <a href=\"/edit-post\" class=\"action edit\">Edit</a> '), \"\\n\t\t\t\t\t\t\t\", HTML.A({\n          href: \"#\",\n          \"class\": \"action delete\"\n        }, \"Delete\"), \"\\n\t\t\t\t\t\t\" ];\n      }), \"\\n\t\t\t\t\t\"), \"\\n\t\t\t\t\" ];\n    }), \"\\n\t\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.ARTICLE({\n      \"class\": \"excerpt\"\n    }, \"\\n\t\t\t\t\t\", HTML.P(HTML.EM(\"No posts found.\")), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n  }), \"\\n\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"more\"));\n  }, function() {\n    return HTML.A({\n      \"class\": \"more\",\n      href: \"#\"\n    }, \"more\");\n  }), \"\\n\t\t\"), \"\\n\t\t\", HTML.DIV({\n    \"class\": \"single\"\n  }, \"\\n\t\t\t\", HTML.ARTICLE(\"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"single\")), \"\\n\t\t\t\"), \"\\n\t\t\"), \"\\n\\n\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.NAV({\n      id: \"toolbar\"\n    }, \"\\n\t\t\t\t\", HTML.A({\n      href: \"/blog/new\",\n      \"class\": \"new-post\"\n    }, \"New Post\"), \"\\n\t\t\t\t\", HTML.A({\n      href: \"/\",\n      \"class\": \"logout\"\n    }, \"Log out\"), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n\n}).call(this);\n","servePath":"/client/app/home/blog/template.blog.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/template.blog.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/home/blog/template.blog.js","sourcesContent":["\nTemplate.__checkName(\"blog\");\nTemplate[\"blog\"] = new Template(\"Template.blog\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    \"class\": function() {\n      return [ \"blog \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"singlePost\"));\n      }, function() {\n        return \"post\";\n      }) ];\n    }\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"posts\"\n  }, \"\\n\t\t\t\", HTML.Raw('<a class=\"back\" href=\"/\"><i class=\"fa fa-angle-double-up\"></i></a>'), \"\\n\t\t\t\", HTML.A({\n    \"class\": \"search\",\n    href: \"#\"\n  }, HTML.I({\n    \"class\": function() {\n      return [ \"fa \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"searching\"));\n      }, function() {\n        return \"fa-search-minus\";\n      }, function() {\n        return \"fa-search\";\n      }) ];\n    }\n  })), \"\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"searching\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"search\"));\n  }), \"\\n\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"posts\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"posts\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\t\", HTML.Comment(\" post excerpt \"), \"\\n\t\t\t\t\t\", HTML.ARTICLE({\n        \"class\": \"excerpt\"\n      }, \"\\n\t\t\t\t\t\t\", HTML.A({\n        name: function() {\n          return Spacebars.mustache(view.lookup(\"_id\"));\n        },\n        href: function() {\n          return [ \"/blog/\", Spacebars.mustache(view.lookup(\"slug\")) ];\n        }\n      }, \"\\n\t\t\t\t\t\t\t\", HTML.HEADER(\"\\n\t\t\t\t\t\t\t\t\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"published\"));\n      }, function() {\n        return [ \"\\n\t\t\t\t\t\t\t\t\t\", HTML.H2(Blaze.View(\"lookup:date\", function() {\n          return Spacebars.mustache(view.lookup(\"date\"));\n        })), \"\\n\t\t\t\t\t\t\t\t\" ];\n      }), \"\\n\t\t\t\t\t\t\t\"), HTML.DIV(\"\\n\t\t\t\t\t\t\t\t\", HTML.H1(Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"private\"));\n      }, function() {\n        return [ HTML.EM(\"Draft:\"), \" \" ];\n      }), Blaze.View(\"lookup:title\", function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      })), \"\\n\t\t\t\t\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n        return Blaze.View(\"lookup:excerpt\", function() {\n          return Spacebars.mustache(view.lookup(\"excerpt\"));\n        });\n      }), \"\\n\t\t\t\t\t\t\t\"), \"\\n\t\t\t\t\t\t\"), \"\\n\\n\t\t\t\t\t\t\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"tags\"));\n      }, function() {\n        return [ \"\\n\t\t\t\t\t\t\t\", HTML.UL({\n          \"class\": \"tags\"\n        }, \"\\n\t\t\t\t\t\t\t\t\", Blaze.Each(function() {\n          return Spacebars.call(view.lookup(\"tags\"));\n        }, function() {\n          return HTML.LI(HTML.A({\n            href: function() {\n              return Spacebars.mustache(view.lookup(\"uri\"), view.lookup(\".\"));\n            }\n          }, Blaze.View(\"lookup:.\", function() {\n            return Spacebars.mustache(view.lookup(\".\"));\n          })));\n        }), \"\\n\t\t\t\t\t\t\t\"), \"\\n\t\t\t\t\t\t\" ];\n      }), \"\\n\t\t\t\t\t\t\\n\t\t\t\t\t\t\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return [ \"\\n\t\t\t\t\t\t\t\", HTML.Comment(' <a href=\"/edit-post\" class=\"action edit\">Edit</a> '), \"\\n\t\t\t\t\t\t\t\", HTML.A({\n          href: \"#\",\n          \"class\": \"action delete\"\n        }, \"Delete\"), \"\\n\t\t\t\t\t\t\" ];\n      }), \"\\n\t\t\t\t\t\"), \"\\n\t\t\t\t\" ];\n    }), \"\\n\t\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.ARTICLE({\n      \"class\": \"excerpt\"\n    }, \"\\n\t\t\t\t\t\", HTML.P(HTML.EM(\"No posts found.\")), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n  }), \"\\n\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"more\"));\n  }, function() {\n    return HTML.A({\n      \"class\": \"more\",\n      href: \"#\"\n    }, \"more\");\n  }), \"\\n\t\t\"), \"\\n\t\t\", HTML.DIV({\n    \"class\": \"single\"\n  }, \"\\n\t\t\t\", HTML.ARTICLE(\"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"single\")), \"\\n\t\t\t\"), \"\\n\t\t\"), \"\\n\\n\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.NAV({\n      id: \"toolbar\"\n    }, \"\\n\t\t\t\t\", HTML.A({\n      href: \"/blog/new\",\n      \"class\": \"new-post\"\n    }, \"New Post\"), \"\\n\t\t\t\t\", HTML.A({\n      href: \"/\",\n      \"class\": \"logout\"\n    }, \"Log out\"), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"edit\");\nTemplate[\"edit\"] = new Template(\"Template.edit\", (function() {\n  var view = this;\n  return HTML.FORM({\n    \"class\": \"edit-post\"\n  }, HTML.Raw('\\n\t\t<header>\\n\t\t\t<h2><pre contenteditable=\"\" data-name=\"published-date\" data-placeholder=\"MM/DD/YYYY\"></pre> at <pre contenteditable=\"\" data-name=\"published-time\" data-placeholder=\"12:00 am\"></pre></h2>\\n\t\t</header>'), HTML.DIV(\"\\n\t\t\t\", HTML.Raw('<h1><pre contenteditable=\"\" data-name=\"title\" data-placeholder=\"Post title\"></pre></h1>'), \"\\n\t\t\t\", HTML.H3({\n    \"class\": \"dek\"\n  }, HTML.PRE({\n    contenteditable: \"\",\n    \"data-name\": \"excerpt\",\n    \"data-placeholder\": \"Post excerpt\"\n  }, Blaze.View(\"lookup:excerpt\", function() {\n    return Spacebars.mustache(view.lookup(\"excerpt\"));\n  }))), \"\\n\t\t\t\", HTML.SECTION({\n    \"class\": \"content\"\n  }, \"\\n\t\t\t\t\", HTML.TEXTAREA({\n    name: \"content\",\n    placeholder: \"Post content\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"content\"));\n      }, function() {\n        return Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));\n        });\n      });\n    }\n  }), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"tags\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.UL({\n      \"class\": \"tags\"\n    }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"tags\"));\n    }, function() {\n      return HTML.LI(HTML.A({\n        href: \"/remove-tag\",\n        \"class\": \"remove-tag\",\n        title: \"Remove this tag\"\n      }, Blaze.View(\"lookup:.\", function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      }), \" \", HTML.CharRef({\n        html: \"&times;\",\n        str: \"×\"\n      })));\n    }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n  }), \"\\n\t\t\t\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"newPost\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.TEXTAREA({\n      \"class\": \"tags\",\n      name: \"tags\",\n      placeholder: \"Post tags (enter each on own line)\"\n    }), \"\\n\t\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.LABEL(\"Add tag\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      \"class\": \"tags\",\n      type: \"text\",\n      name: \"tags\",\n      placeholder: \"Tag\"\n    }), HTML.A({\n      href: \"add-tag\",\n      \"class\": \"add-tag\"\n    }, HTML.CharRef({\n      html: \"&plus;\",\n      str: \"+\"\n    })), \"\\n\t\t\t\" ];\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<label>Slug</label>\"), \"\\n\t\t\t\", HTML.INPUT({\n    \"class\": \"slug\",\n    name: \"slug\",\n    placeholder: \"Post slug\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"slug\"));\n      }, function() {\n        return Blaze.View(\"lookup:slug\", function() {\n          return Spacebars.mustache(view.lookup(\"slug\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<label>Publish Status</label>\"), \"\\n\t\t\t\", HTML.SELECT({\n    name: \"visibility\"\n  }, \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"public\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"public\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Published\"), \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"private\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"private\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Draft\"), \"\\n\t\t\t\"), \"\\n\t\t\t\\n\t\t\t\", HTML.Raw('<button class=\"save\">Save</button>'), \"\\n\t\t\t\", HTML.Raw('<button class=\"cancel\">Cancel</button>'), \"\\n\t\t\"), \"\\n\t\");\n}));\n\n}).call(this);\n","servePath":"/client/app/home/blog/template.edit.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/template.edit.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/home/blog/template.edit.js","sourcesContent":["\nTemplate.__checkName(\"edit\");\nTemplate[\"edit\"] = new Template(\"Template.edit\", (function() {\n  var view = this;\n  return HTML.FORM({\n    \"class\": \"edit-post\"\n  }, HTML.Raw('\\n\t\t<header>\\n\t\t\t<h2><pre contenteditable=\"\" data-name=\"published-date\" data-placeholder=\"MM/DD/YYYY\"></pre> at <pre contenteditable=\"\" data-name=\"published-time\" data-placeholder=\"12:00 am\"></pre></h2>\\n\t\t</header>'), HTML.DIV(\"\\n\t\t\t\", HTML.Raw('<h1><pre contenteditable=\"\" data-name=\"title\" data-placeholder=\"Post title\"></pre></h1>'), \"\\n\t\t\t\", HTML.H3({\n    \"class\": \"dek\"\n  }, HTML.PRE({\n    contenteditable: \"\",\n    \"data-name\": \"excerpt\",\n    \"data-placeholder\": \"Post excerpt\"\n  }, Blaze.View(\"lookup:excerpt\", function() {\n    return Spacebars.mustache(view.lookup(\"excerpt\"));\n  }))), \"\\n\t\t\t\", HTML.SECTION({\n    \"class\": \"content\"\n  }, \"\\n\t\t\t\t\", HTML.TEXTAREA({\n    name: \"content\",\n    placeholder: \"Post content\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"content\"));\n      }, function() {\n        return Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));\n        });\n      });\n    }\n  }), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"tags\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.UL({\n      \"class\": \"tags\"\n    }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"tags\"));\n    }, function() {\n      return HTML.LI(HTML.A({\n        href: \"/remove-tag\",\n        \"class\": \"remove-tag\",\n        title: \"Remove this tag\"\n      }, Blaze.View(\"lookup:.\", function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      }), \" \", HTML.CharRef({\n        html: \"&times;\",\n        str: \"×\"\n      })));\n    }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n  }), \"\\n\t\t\t\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"newPost\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.TEXTAREA({\n      \"class\": \"tags\",\n      name: \"tags\",\n      placeholder: \"Post tags (enter each on own line)\"\n    }), \"\\n\t\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.LABEL(\"Add tag\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      \"class\": \"tags\",\n      type: \"text\",\n      name: \"tags\",\n      placeholder: \"Tag\"\n    }), HTML.A({\n      href: \"add-tag\",\n      \"class\": \"add-tag\"\n    }, HTML.CharRef({\n      html: \"&plus;\",\n      str: \"+\"\n    })), \"\\n\t\t\t\" ];\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<label>Slug</label>\"), \"\\n\t\t\t\", HTML.INPUT({\n    \"class\": \"slug\",\n    name: \"slug\",\n    placeholder: \"Post slug\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"slug\"));\n      }, function() {\n        return Blaze.View(\"lookup:slug\", function() {\n          return Spacebars.mustache(view.lookup(\"slug\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<label>Publish Status</label>\"), \"\\n\t\t\t\", HTML.SELECT({\n    name: \"visibility\"\n  }, \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"public\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"public\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Published\"), \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"private\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"private\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Draft\"), \"\\n\t\t\t\"), \"\\n\t\t\t\\n\t\t\t\", HTML.Raw('<button class=\"save\">Save</button>'), \"\\n\t\t\t\", HTML.Raw('<button class=\"cancel\">Cancel</button>'), \"\\n\t\t\"), \"\\n\t\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"modal\");\nTemplate[\"modal\"] = new Template(\"Template.modal\", (function() {\n  var view = this;\n  return HTML.FIGURE({\n    \"class\": \"modal\"\n  }, \"\\n\t\t\", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"img\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"src\"));\n      },\n      alt: function() {\n        return Spacebars.mustache(view.lookup(\"caption\"));\n      }\n    }), \"\\n\t\t\t\", HTML.Comment(\" {{#if caption}}<figcaption>{{caption}}</figcaption>{{/if}} \"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n\n}).call(this);\n","servePath":"/client/app/home/blog/template.modal.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/template.modal.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/home/blog/template.modal.js","sourcesContent":["\nTemplate.__checkName(\"modal\");\nTemplate[\"modal\"] = new Template(\"Template.modal\", (function() {\n  var view = this;\n  return HTML.FIGURE({\n    \"class\": \"modal\"\n  }, \"\\n\t\t\", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"img\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"src\"));\n      },\n      alt: function() {\n        return Spacebars.mustache(view.lookup(\"caption\"));\n      }\n    }), \"\\n\t\t\t\", HTML.Comment(\" {{#if caption}}<figcaption>{{caption}}</figcaption>{{/if}} \"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"post\");\nTemplate[\"post\"] = new Template(\"Template.post\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"editing\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.A({\n      \"class\": \"back static\",\n      href: \"/blog\"\n    }, HTML.I({\n      \"class\": \"fa fa-angle-double-left\"\n    })), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"edit\")), \"\\n\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\", HTML.A({\n      \"class\": \"back\",\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"back\"));\n      }\n    }, HTML.I({\n      \"class\": \"fa fa-angle-double-left\"\n    })), \"\\n\t\t\", HTML.HEADER(\"\\n\t\t\t\", HTML.H2(Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"published\"));\n    }, function() {\n      return Blaze.View(\"lookup:date\", function() {\n        return Spacebars.mustache(view.lookup(\"date\"));\n      });\n    })), \"\\n\t\t\"), HTML.DIV(\"\\n\t\t\t\", HTML.H1(Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"private\"));\n    }, function() {\n      return [ HTML.EM(\"Draft:\"), \" \" ];\n    }), Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"excerpt\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.H3({\n        \"class\": \"dek\"\n      }, Blaze.View(\"lookup:excerpt\", function() {\n        return Spacebars.mustache(view.lookup(\"excerpt\"));\n      })), \"\\n\t\t\t\" ];\n    }), \"\\n\\n\t\t\t\", HTML.SECTION({\n      \"class\": \"content\"\n    }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n      return Blaze.View(\"lookup:content\", function() {\n        return Spacebars.mustache(view.lookup(\"content\"));\n      });\n    }), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"tags\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.UL({\n        \"class\": \"tags\"\n      }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"tags\"));\n      }, function() {\n        return HTML.LI(HTML.A({\n          href: function() {\n            return Spacebars.mustache(view.lookup(\"uri\"), view.lookup(\".\"));\n          }\n        }, Blaze.View(\"lookup:.\", function() {\n          return Spacebars.mustache(view.lookup(\".\"));\n        })));\n      }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n    }), \"\\n\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n\\n\t\t\t\t\", HTML.H2(HTML.STRONG(\"Publish Status:\"), \" \", Blaze.View(\"lookup:status\", function() {\n        return Spacebars.mustache(view.lookup(\"status\"));\n      })), \"\\n\t\t\t\t\", HTML.A({\n        href: \"/edit-post\",\n        \"class\": \"action edit\"\n      }, \"Edit\"), \"\\n\t\t\t\t\", HTML.A({\n        href: \"/delete-post\",\n        \"class\": \"action delete\"\n      }, \"Delete\"), \"\\n\t\t\t\" ];\n    }), \"\\n\t\t\"), \"\\n\t\" ];\n  });\n}));\n\n}).call(this);\n","servePath":"/client/app/home/blog/template.post.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/template.post.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/home/blog/template.post.js","sourcesContent":["\nTemplate.__checkName(\"post\");\nTemplate[\"post\"] = new Template(\"Template.post\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"editing\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.A({\n      \"class\": \"back static\",\n      href: \"/blog\"\n    }, HTML.I({\n      \"class\": \"fa fa-angle-double-left\"\n    })), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"edit\")), \"\\n\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\", HTML.A({\n      \"class\": \"back\",\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"back\"));\n      }\n    }, HTML.I({\n      \"class\": \"fa fa-angle-double-left\"\n    })), \"\\n\t\t\", HTML.HEADER(\"\\n\t\t\t\", HTML.H2(Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"published\"));\n    }, function() {\n      return Blaze.View(\"lookup:date\", function() {\n        return Spacebars.mustache(view.lookup(\"date\"));\n      });\n    })), \"\\n\t\t\"), HTML.DIV(\"\\n\t\t\t\", HTML.H1(Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"private\"));\n    }, function() {\n      return [ HTML.EM(\"Draft:\"), \" \" ];\n    }), Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"excerpt\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.H3({\n        \"class\": \"dek\"\n      }, Blaze.View(\"lookup:excerpt\", function() {\n        return Spacebars.mustache(view.lookup(\"excerpt\"));\n      })), \"\\n\t\t\t\" ];\n    }), \"\\n\\n\t\t\t\", HTML.SECTION({\n      \"class\": \"content\"\n    }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n      return Blaze.View(\"lookup:content\", function() {\n        return Spacebars.mustache(view.lookup(\"content\"));\n      });\n    }), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"tags\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.UL({\n        \"class\": \"tags\"\n      }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"tags\"));\n      }, function() {\n        return HTML.LI(HTML.A({\n          href: function() {\n            return Spacebars.mustache(view.lookup(\"uri\"), view.lookup(\".\"));\n          }\n        }, Blaze.View(\"lookup:.\", function() {\n          return Spacebars.mustache(view.lookup(\".\"));\n        })));\n      }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n    }), \"\\n\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n\\n\t\t\t\t\", HTML.H2(HTML.STRONG(\"Publish Status:\"), \" \", Blaze.View(\"lookup:status\", function() {\n        return Spacebars.mustache(view.lookup(\"status\"));\n      })), \"\\n\t\t\t\t\", HTML.A({\n        href: \"/edit-post\",\n        \"class\": \"action edit\"\n      }, \"Edit\"), \"\\n\t\t\t\t\", HTML.A({\n        href: \"/delete-post\",\n        \"class\": \"action delete\"\n      }, \"Delete\"), \"\\n\t\t\t\" ];\n    }), \"\\n\t\t\"), \"\\n\t\" ];\n  });\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"search\");\nTemplate[\"search\"] = new Template(\"Template.search\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"search\"\n  }, \"\\n\t\t\", HTML.INPUT({\n    \"class\": \"search\",\n    type: \"text\",\n    name: \"search\",\n    placeholder: \"search\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"query\"));\n      }, function() {\n        return Blaze.View(\"lookup:query\", function() {\n          return Spacebars.mustache(view.lookup(\"query\"));\n        });\n      });\n    }\n  }), HTML.Raw('\\n\t\t<a href=\"#\" class=\"close\">&times;</a>\\n\t'));\n}));\n\n}).call(this);\n","servePath":"/client/app/home/blog/template.search.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/template.search.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/home/blog/template.search.js","sourcesContent":["\nTemplate.__checkName(\"search\");\nTemplate[\"search\"] = new Template(\"Template.search\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"search\"\n  }, \"\\n\t\t\", HTML.INPUT({\n    \"class\": \"search\",\n    type: \"text\",\n    name: \"search\",\n    placeholder: \"search\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"query\"));\n      }, function() {\n        return Blaze.View(\"lookup:query\", function() {\n          return Spacebars.mustache(view.lookup(\"query\"));\n        });\n      });\n    }\n  }), HTML.Raw('\\n\t\t<a href=\"#\" class=\"close\">&times;</a>\\n\t'));\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"single\");\nTemplate[\"single\"] = new Template(\"Template.single\", (function() {\n  var view = this;\n  return Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"thisPost\"));\n  }, function() {\n    return [ \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"post\")), \"\\n\t\" ];\n  });\n}));\n\n}).call(this);\n","servePath":"/client/app/home/blog/template.single.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/template.single.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/home/blog/template.single.js","sourcesContent":["\nTemplate.__checkName(\"single\");\nTemplate[\"single\"] = new Template(\"Template.single\", (function() {\n  var view = this;\n  return Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"thisPost\"));\n  }, function() {\n    return [ \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"post\")), \"\\n\t\" ];\n  });\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"admin\");\nTemplate[\"admin\"] = new Template(\"Template.admin\", (function() {\n  var view = this;\n  return HTML.MAIN({\n    \"class\": \"admin\"\n  }, \"\\n\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"resetting\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.FORM({\n      id: \"reset\"\n    }, \"\\n\t\t\t\t\", HTML.H2(\"Reset password\"), \"\\n\t\t\t\t\", HTML.P(\"Enter a new password below to reset your account.\"), \"\\n\\n\t\t\t\t\", HTML.LABEL(\"Password\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      type: \"password\",\n      name: \"password\",\n      required: \"\"\n    }), \"\\n\\n\t\t\t\t\", HTML.LABEL(\"Password again\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      type: \"password\",\n      name: \"confirm\",\n      required: \"\"\n    }), \"\\n\\n\t\t\t\t\", HTML.BUTTON({\n      \"class\": \"full activate\"\n    }, \"Reset password\"), \"\\n\t\t\t\"), \"\\n\t\t\t\\n\\n\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"reset\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.FORM({\n        id: \"start-reset\"\n      }, \"\\n\t\t\t\t\t\", HTML.H2(\"Reset password\"), \"\\n\\n\t\t\t\t\t\", HTML.LABEL(\"E-mail address\"), \"\\n\t\t\t\t\t\", HTML.INPUT({\n        type: \"email\",\n        name: \"email\",\n        required: \"\"\n      }), \"\\n\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full send-reset\"\n      }, \"Send recovery e-mail\"), \"\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full cancel\"\n      }, \"Back to log-in\"), \"\\n\t\t\t\t\"), \"\\n\\n\t\t\t\" ];\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.FORM({\n        id: \"login\"\n      }, \"\\n\t\t\t\t\t\", HTML.H2(\"Log into dkoo.net\"), \"\\n\\n\t\t\t\t\t\", HTML.LABEL(\"Username\"), \"\\n\t\t\t\t\t\", HTML.INPUT({\n        type: \"text\",\n        name: \"user\",\n        required: \"\"\n      }), \"\\n\\n\t\t\t\t\t\", HTML.LABEL(\"Password\"), \"\\n\t\t\t\t\t\", HTML.INPUT({\n        type: \"password\",\n        name: \"password\",\n        required: \"\"\n      }), \"\\n\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full signin\"\n      }, \"Log in\"), \"\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full reset\"\n      }, \"Reset password\"), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n    }), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n\n}).call(this);\n","servePath":"/client/app/admin/template.admin.js","sourceMap":{"version":3,"sources":["/client/app/admin/template.admin.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/admin/template.admin.js","sourcesContent":["\nTemplate.__checkName(\"admin\");\nTemplate[\"admin\"] = new Template(\"Template.admin\", (function() {\n  var view = this;\n  return HTML.MAIN({\n    \"class\": \"admin\"\n  }, \"\\n\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"resetting\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.FORM({\n      id: \"reset\"\n    }, \"\\n\t\t\t\t\", HTML.H2(\"Reset password\"), \"\\n\t\t\t\t\", HTML.P(\"Enter a new password below to reset your account.\"), \"\\n\\n\t\t\t\t\", HTML.LABEL(\"Password\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      type: \"password\",\n      name: \"password\",\n      required: \"\"\n    }), \"\\n\\n\t\t\t\t\", HTML.LABEL(\"Password again\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      type: \"password\",\n      name: \"confirm\",\n      required: \"\"\n    }), \"\\n\\n\t\t\t\t\", HTML.BUTTON({\n      \"class\": \"full activate\"\n    }, \"Reset password\"), \"\\n\t\t\t\"), \"\\n\t\t\t\\n\\n\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"reset\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.FORM({\n        id: \"start-reset\"\n      }, \"\\n\t\t\t\t\t\", HTML.H2(\"Reset password\"), \"\\n\\n\t\t\t\t\t\", HTML.LABEL(\"E-mail address\"), \"\\n\t\t\t\t\t\", HTML.INPUT({\n        type: \"email\",\n        name: \"email\",\n        required: \"\"\n      }), \"\\n\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full send-reset\"\n      }, \"Send recovery e-mail\"), \"\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full cancel\"\n      }, \"Back to log-in\"), \"\\n\t\t\t\t\"), \"\\n\\n\t\t\t\" ];\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.FORM({\n        id: \"login\"\n      }, \"\\n\t\t\t\t\t\", HTML.H2(\"Log into dkoo.net\"), \"\\n\\n\t\t\t\t\t\", HTML.LABEL(\"Username\"), \"\\n\t\t\t\t\t\", HTML.INPUT({\n        type: \"text\",\n        name: \"user\",\n        required: \"\"\n      }), \"\\n\\n\t\t\t\t\t\", HTML.LABEL(\"Password\"), \"\\n\t\t\t\t\t\", HTML.INPUT({\n        type: \"password\",\n        name: \"password\",\n        required: \"\"\n      }), \"\\n\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full signin\"\n      }, \"Log in\"), \"\\n\t\t\t\t\t\", HTML.BUTTON({\n        \"class\": \"full reset\"\n      }, \"Reset password\"), \"\\n\t\t\t\t\"), \"\\n\t\t\t\" ];\n    }), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"editProject\");\nTemplate[\"editProject\"] = new Template(\"Template.editProject\", (function() {\n  var view = this;\n  return HTML.FORM({\n    \"class\": \"edit-project\"\n  }, \"\\n\t\t\", HTML.FIGURE(\"\\n\t\t\t\", HTML.Raw('<h2><pre contenteditable=\"\" data-name=\"published-date\" data-placeholder=\"MM/DD/YYYY\"></pre> at <pre contenteditable=\"\" data-name=\"published-time\" data-placeholder=\"12:00 am\"></pre></h2>'), \"\\n\\n\t\t\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"images\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      },\n      alt: \"\"\n    }), \"\\n\t\t\t\" ];\n  }), \"\\n\t\t\t\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"newProject\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.H2(\"Project Images\"), \"\\n\t\t\t\t\", HTML.TEXTAREA({\n      \"class\": \"images\",\n      name: \"images\",\n      placeholder: \"(enter each URL on own line)\"\n    }), \"\\n\t\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.H2(\"Add image\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      \"class\": \"image\",\n      type: \"text\",\n      name: \"image\",\n      placeholder: \"Image URL\"\n    }), HTML.A({\n      href: \"add-image\",\n      \"class\": \"add-image\"\n    }, HTML.CharRef({\n      html: \"&plus;\",\n      str: \"+\"\n    })), \"\\n\t\t\t\" ];\n  }), \"\\n\t\t\"), HTML.DIV(\"\\n\t\t\t\", HTML.H1(Blaze.View(\"lookup:projectTitle\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"projectTitle\")));\n  })), \"\\n\\n\t\t\t\", HTML.TEXTAREA({\n    \"class\": \"content\",\n    name: \"content\",\n    placeholder: \"Project description\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"content\"));\n      }, function() {\n        return Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<h2>Thumbnail</h2>\"), \"\\n\t\t\t\", HTML.INPUT({\n    \"class\": \"thumb\",\n    type: \"text\",\n    name: \"thumb\",\n    placeholder: \"Thumbnail URL\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"slug\"));\n      }, function() {\n        return Blaze.View(\"lookup:thumb\", function() {\n          return Spacebars.mustache(view.lookup(\"thumb\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<h2>Slug</h2>\"), \"\\n\t\t\t\", HTML.INPUT({\n    \"class\": \"slug\",\n    name: \"slug\",\n    placeholder: \"Project slug\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"slug\"));\n      }, function() {\n        return Blaze.View(\"lookup:slug\", function() {\n          return Spacebars.mustache(view.lookup(\"slug\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<h2>Publish Status</h2>\"), \"\\n\t\t\t\", HTML.SELECT({\n    name: \"visibility\"\n  }, \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"public\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"public\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Published\"), \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"private\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"private\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Draft\"), \"\\n\t\t\t\"), \"\\n\t\t\t\\n\t\t\t\", HTML.Raw('<button class=\"save\">Save</button>'), \"\\n\t\t\t\", HTML.Raw('<button class=\"cancel\">Cancel</button>'), \"\\n\t\t\"), \"\\n\t\");\n}));\n\n}).call(this);\n","servePath":"/client/app/projects/template.editProject.js","sourceMap":{"version":3,"sources":["/client/app/projects/template.editProject.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/projects/template.editProject.js","sourcesContent":["\nTemplate.__checkName(\"editProject\");\nTemplate[\"editProject\"] = new Template(\"Template.editProject\", (function() {\n  var view = this;\n  return HTML.FORM({\n    \"class\": \"edit-project\"\n  }, \"\\n\t\t\", HTML.FIGURE(\"\\n\t\t\t\", HTML.Raw('<h2><pre contenteditable=\"\" data-name=\"published-date\" data-placeholder=\"MM/DD/YYYY\"></pre> at <pre contenteditable=\"\" data-name=\"published-time\" data-placeholder=\"12:00 am\"></pre></h2>'), \"\\n\\n\t\t\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"images\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      },\n      alt: \"\"\n    }), \"\\n\t\t\t\" ];\n  }), \"\\n\t\t\t\\n\t\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"newProject\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.H2(\"Project Images\"), \"\\n\t\t\t\t\", HTML.TEXTAREA({\n      \"class\": \"images\",\n      name: \"images\",\n      placeholder: \"(enter each URL on own line)\"\n    }), \"\\n\t\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.H2(\"Add image\"), \"\\n\t\t\t\t\", HTML.INPUT({\n      \"class\": \"image\",\n      type: \"text\",\n      name: \"image\",\n      placeholder: \"Image URL\"\n    }), HTML.A({\n      href: \"add-image\",\n      \"class\": \"add-image\"\n    }, HTML.CharRef({\n      html: \"&plus;\",\n      str: \"+\"\n    })), \"\\n\t\t\t\" ];\n  }), \"\\n\t\t\"), HTML.DIV(\"\\n\t\t\t\", HTML.H1(Blaze.View(\"lookup:projectTitle\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"projectTitle\")));\n  })), \"\\n\\n\t\t\t\", HTML.TEXTAREA({\n    \"class\": \"content\",\n    name: \"content\",\n    placeholder: \"Project description\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"content\"));\n      }, function() {\n        return Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<h2>Thumbnail</h2>\"), \"\\n\t\t\t\", HTML.INPUT({\n    \"class\": \"thumb\",\n    type: \"text\",\n    name: \"thumb\",\n    placeholder: \"Thumbnail URL\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"slug\"));\n      }, function() {\n        return Blaze.View(\"lookup:thumb\", function() {\n          return Spacebars.mustache(view.lookup(\"thumb\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<h2>Slug</h2>\"), \"\\n\t\t\t\", HTML.INPUT({\n    \"class\": \"slug\",\n    name: \"slug\",\n    placeholder: \"Project slug\",\n    value: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"slug\"));\n      }, function() {\n        return Blaze.View(\"lookup:slug\", function() {\n          return Spacebars.mustache(view.lookup(\"slug\"));\n        });\n      });\n    }\n  }), \"\\n\\n\t\t\t\", HTML.Raw(\"<h2>Publish Status</h2>\"), \"\\n\t\t\t\", HTML.SELECT({\n    name: \"visibility\"\n  }, \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"public\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"public\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Published\"), \"\\n\t\t\t\t\", HTML.OPTION({\n    value: \"private\",\n    selected: function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"statusIs\"), \"private\");\n      }, function() {\n        return \"true\";\n      });\n    }\n  }, \"Draft\"), \"\\n\t\t\t\"), \"\\n\t\t\t\\n\t\t\t\", HTML.Raw('<button class=\"save\">Save</button>'), \"\\n\t\t\t\", HTML.Raw('<button class=\"cancel\">Cancel</button>'), \"\\n\t\t\"), \"\\n\t\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"project\");\nTemplate[\"project\"] = new Template(\"Template.project\", (function() {\n  var view = this;\n  return [ HTML.Raw('<a href=\"#\" class=\"close\">&times;</a>\\n\t\t'), HTML.SECTION(Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"editingProject\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"editProject\"));\n  }, function() {\n    return [ HTML.FIGURE(\"\\n\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"images\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\".\"));\n        },\n        alt: \"\"\n      }), \"\\n\t\t\" ];\n    }), \"\\n\t\t\t\"), HTML.DIV(\"\\n\t\t\t\t\", HTML.H1(Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n      return Blaze.View(\"lookup:content\", function() {\n        return Spacebars.mustache(view.lookup(\"content\"));\n      });\n    }), \"\\n\t\t\t\t\\n\t\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\t\", HTML.H2(HTML.STRONG(\"Publish Status:\"), \" \", Blaze.View(\"lookup:status\", function() {\n        return Spacebars.mustache(view.lookup(\"status\"));\n      })), \"\\n\t\t\t\t\t\", HTML.A({\n        href: \"/edit-project\",\n        \"class\": \"action edit\"\n      }, \"Edit\"), \"\\n\t\t\t\t\t\", HTML.A({\n        href: \"/delete-project\",\n        \"class\": \"action delete\"\n      }, \"Delete\"), \"\\n\t\t\t\t\" ];\n    }), \"\\n\t\t\t\") ];\n  })) ];\n}));\n\n}).call(this);\n","servePath":"/client/app/projects/template.project.js","sourceMap":{"version":3,"sources":["/client/app/projects/template.project.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/projects/template.project.js","sourcesContent":["\nTemplate.__checkName(\"project\");\nTemplate[\"project\"] = new Template(\"Template.project\", (function() {\n  var view = this;\n  return [ HTML.Raw('<a href=\"#\" class=\"close\">&times;</a>\\n\t\t'), HTML.SECTION(Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"editingProject\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"editProject\"));\n  }, function() {\n    return [ HTML.FIGURE(\"\\n\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"images\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\".\"));\n        },\n        alt: \"\"\n      }), \"\\n\t\t\" ];\n    }), \"\\n\t\t\t\"), HTML.DIV(\"\\n\t\t\t\t\", HTML.H1(Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n      return Blaze.View(\"lookup:content\", function() {\n        return Spacebars.mustache(view.lookup(\"content\"));\n      });\n    }), \"\\n\t\t\t\t\\n\t\t\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\t\", HTML.H2(HTML.STRONG(\"Publish Status:\"), \" \", Blaze.View(\"lookup:status\", function() {\n        return Spacebars.mustache(view.lookup(\"status\"));\n      })), \"\\n\t\t\t\t\t\", HTML.A({\n        href: \"/edit-project\",\n        \"class\": \"action edit\"\n      }, \"Edit\"), \"\\n\t\t\t\t\t\", HTML.A({\n        href: \"/delete-project\",\n        \"class\": \"action delete\"\n      }, \"Delete\"), \"\\n\t\t\t\t\" ];\n    }), \"\\n\t\t\t\") ];\n  })) ];\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"projects\");\nTemplate[\"projects\"] = new Template(\"Template.projects\", (function() {\n  var view = this;\n  return [ HTML.MAIN({\n    \"class\": function() {\n      return [ \"projects \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return \"logged-in\";\n      }), \" \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"viewingProject\"));\n      }, function() {\n        return \"active\";\n      }) ];\n    }\n  }, \"\\n\t\t\", HTML.Raw('<header>\\n\t\t\t<h2>\\n\t\t\t\t<a class=\"logo\" href=\"/\">dkoo</a>\\n\t\t\t\t<a href=\"/blog\">blog</a>\\n\t\t\t\t<a href=\"/about\">about</a>\\n\t\t\t</h2>\\n\t\t</header>'), \"\\n\\n\t\t\", HTML.SECTION(\"\\n\t\t\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"projects\"));\n  }, function() {\n    return HTML.FIGURE(\"\\n\t\t\t\t\", HTML.A({\n      href: function() {\n        return [ \"/projects/\", Spacebars.mustache(view.lookup(\"slug\")) ];\n      }\n    }, \"\\n\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"thumb\"));\n      },\n      alt: function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      }\n    }), \"\\n\t\t\t\t\t\", HTML.ASIDE(\"\\n\t\t\t\t\t\t\", HTML.H3(Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n\t\t\t\t\t\"), \"\\n\t\t\t\t\"), \"\\n\t\t\t\");\n  }), \"\\n\t\t\"), \"\\n\t\"), \"\\n\t\", HTML.ARTICLE({\n    \"class\": function() {\n      return [ \"project \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"viewingProject\"));\n      }, function() {\n        return \"active\";\n      }), \" \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return \"logged-in\";\n      }) ];\n    }\n  }, \"\\n\t\t\", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"thisProject\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", Spacebars.include(view.lookupTemplate(\"project\")), \"\\n\t\t\" ];\n  }), \"\\n\t\"), \"\\n\\n\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.NAV({\n      id: \"toolbar\"\n    }, \"\\n\t\t\t\", HTML.A({\n      href: \"/projects/new\",\n      \"class\": \"new-project\"\n    }, \"New Project\"), \"\\n\t\t\t\", HTML.A({\n      href: \"/projects\",\n      \"class\": \"logout\"\n    }, \"Log out\"), \"\\n\t\t\"), \"\\n\t\" ];\n  }) ];\n}));\n\n}).call(this);\n","servePath":"/client/app/projects/template.projects.js","sourceMap":{"version":3,"sources":["/client/app/projects/template.projects.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/projects/template.projects.js","sourcesContent":["\nTemplate.__checkName(\"projects\");\nTemplate[\"projects\"] = new Template(\"Template.projects\", (function() {\n  var view = this;\n  return [ HTML.MAIN({\n    \"class\": function() {\n      return [ \"projects \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return \"logged-in\";\n      }), \" \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"viewingProject\"));\n      }, function() {\n        return \"active\";\n      }) ];\n    }\n  }, \"\\n\t\t\", HTML.Raw('<header>\\n\t\t\t<h2>\\n\t\t\t\t<a class=\"logo\" href=\"/\">dkoo</a>\\n\t\t\t\t<a href=\"/blog\">blog</a>\\n\t\t\t\t<a href=\"/about\">about</a>\\n\t\t\t</h2>\\n\t\t</header>'), \"\\n\\n\t\t\", HTML.SECTION(\"\\n\t\t\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"projects\"));\n  }, function() {\n    return HTML.FIGURE(\"\\n\t\t\t\t\", HTML.A({\n      href: function() {\n        return [ \"/projects/\", Spacebars.mustache(view.lookup(\"slug\")) ];\n      }\n    }, \"\\n\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"thumb\"));\n      },\n      alt: function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      }\n    }), \"\\n\t\t\t\t\t\", HTML.ASIDE(\"\\n\t\t\t\t\t\t\", HTML.H3(Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n\t\t\t\t\t\"), \"\\n\t\t\t\t\"), \"\\n\t\t\t\");\n  }), \"\\n\t\t\"), \"\\n\t\"), \"\\n\t\", HTML.ARTICLE({\n    \"class\": function() {\n      return [ \"project \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"viewingProject\"));\n      }, function() {\n        return \"active\";\n      }), \" \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return \"logged-in\";\n      }) ];\n    }\n  }, \"\\n\t\t\", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"thisProject\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", Spacebars.include(view.lookupTemplate(\"project\")), \"\\n\t\t\" ];\n  }), \"\\n\t\"), \"\\n\\n\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.NAV({\n      id: \"toolbar\"\n    }, \"\\n\t\t\t\", HTML.A({\n      href: \"/projects/new\",\n      \"class\": \"new-project\"\n    }, \"New Project\"), \"\\n\t\t\t\", HTML.A({\n      href: \"/projects\",\n      \"class\": \"logout\"\n    }, \"Log out\"), \"\\n\t\t\"), \"\\n\t\" ];\n  }) ];\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.body.addContent((function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"loading\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.DIV({\n      \"class\": \"loading\"\n    }), \"\\n\t\" ];\n  });\n}));\nMeteor.startup(Template.body.renderToDocument);\n\n}).call(this);\n","servePath":"/client/app/template.index.js","sourceMap":{"version":3,"sources":["/client/app/template.index.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/template.index.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"loading\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.DIV({\n      \"class\": \"loading\"\n    }), \"\\n\t\" ];\n  });\n}));\nMeteor.startup(Template.body.renderToDocument);\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"main\");\nTemplate[\"main\"] = new Template(\"Template.main\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"loading\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.DIV({\n      \"class\": \"loading\"\n    }), \"\\n\t\" ];\n  }), \"\\n\\n\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"modalExists\"));\n  }, function() {\n    return [ \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"modal\")), \"\\n\t\" ];\n  }), \"\\n\t\\n\t\", Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"content\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  }) ];\n}));\n\n}).call(this);\n","servePath":"/client/app/template.main.js","sourceMap":{"version":3,"sources":["/client/app/template.main.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/app/template.main.js","sourcesContent":["\nTemplate.__checkName(\"main\");\nTemplate[\"main\"] = new Template(\"Template.main\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"loading\"));\n  }, function() {\n    return [ \"\\n\t\t\", HTML.DIV({\n      \"class\": \"loading\"\n    }), \"\\n\t\" ];\n  }), \"\\n\\n\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"modalExists\"));\n  }, function() {\n    return [ \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"modal\")), \"\\n\t\" ];\n  }), \"\\n\t\\n\t\", Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"content\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  }) ];\n}));\n"]}},{"type":"js","data":"(function(){// init Posts collection\nPosts = new Mongo.Collection('posts');\n\n// init Projects collection\nProjects = new Mongo.Collection('projects');\n}).call(this);\n","servePath":"/lib/collections.js","sourceMap":{"version":3,"sources":["/lib/collections.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA,4C","file":"/lib/collections.js","sourcesContent":["// init Posts collection\nPosts = new Mongo.Collection('posts');\n\n// init Projects collection\nProjects = new Mongo.Collection('projects');"]}},{"type":"js","data":"(function(){// reusable function to reset application states\nfunction reset() {\n\tSession.set('viewingBlog', false);\n\tSession.set('editing', false);\n\tSession.set('viewingProject', undefined);\n\tSession.set('editingProject', undefined);\n\tSession.set('singlePost', false);\n\tSession.set('modal', undefined);\n}\n\nFlowRouter.notFound = {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\tFlowRouter.go('/');\n\t\t}\n\t}\n};\n\n// root\nFlowRouter.route('/', {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tdocument.title = 'dkoo dot net';\n\t\t\tBlazeLayout.render('main', {content: 'home'});\n\t\t}\n\t}\n});\n\n// login route\nvar accounts = FlowRouter.group({\n\tname: 'accounts'\n});\n\naccounts.route('/admin', {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\tif ( !!Meteor.user() ) {\n\t\t\t\tFlowRouter.go('/');\n\t\t\t} else {\n\t\t\t\treset();\n\t\t\t\tdocument.title = 'Log In';\n\t\t\t\tBlazeLayout.render('main', {content: 'admin'});\n\t\t\t}\n\t\t}\n\t}\n});\n\n// blog routes\nvar blog = FlowRouter.group({\n\tprefix: '/blog',\n\tname: 'blog'\n});\n\nblog.route('/', {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tvar search = FlowRouter.getQueryParam('search');\n\n\t\t\tif ( search ) {\n\t\t\t\tSession.set('searching', true);\n\t\t\t\tSession.set('filter', search);\n\t\t\t} else {\n\t\t\t\tSession.set('searching', false);\n\t\t\t\tSession.set('filter', '');\n\t\t\t}\n\n\t\t\tSession.set('viewingBlog', true);\n\t\t\tdocument.title = 'dkoo dot net → blog';\n\t\t\tBlazeLayout.render('main', {content: 'home'});\n\t\t}\n\t}\n});\n\nblog.route('/:slug', {\n\t// preload subscription\n\tsubscriptions: function(params, queryParams) {\n\t\tif ( params.slug === 'new' ) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis.register('post', Meteor.subscribe('posts', { slug: params.slug }, {}, ''));\n\t\t}\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\tif ( FlowRouter.getParam('slug') === 'new' ) {\n\t\t\t\tSession.set('editing', true);\n\t\t\t}\n\t\t\treset();\n\t\t\tSession.set('viewingBlog', true);\n\t\t\tSession.set('singlePost', true);\n\t\t\t\n\t\t\tvar post = Posts.findOne({ slug: FlowRouter.getParam('slug') });\n\t\t\t\n\t\t\tif ( post ) {\n\t\t\t\tdocument.title = 'dkoo dot net → ' + post.title;\n\t\t\t}\n\n\t\t\tBlazeLayout.render('main', {content: 'home'});\n\t\t}\n\t}\n});\n\n// project routes\nvar projects = FlowRouter.group({\n\tprefix: '/projects',\n\tname: 'projects'\n});\n\nprojects.route('/', {\n\tsubscriptions: function(params, queryParams) {\n\t\tthis.register('projects', Meteor.subscribe('projects'));\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tBlazeLayout.render('main', {content: 'projects'});\n\t\t\tdocument.title = 'dkoo dot net → projects';\n\t\t}\n\t}\n});\n\nprojects.route('/:project', {\n\tsubscriptions: function(params, queryParams) {\n\t\tthis.register('projects', Meteor.subscribe('projects'));\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tBlazeLayout.render('main', {content: 'projects'});\n\t\t\tSession.set('viewingProject', true);\n\t\t}\n\t}\n});\n\n// about route\nFlowRouter.route('/about', {\n\tsubscriptions: function(params, queryParams) {\n\t\tthis.register('projects', Meteor.subscribe('projects'));\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tBlazeLayout.render('main', {content: 'projects'});\n\t\t\tSession.set('viewingProject', true);\n\t\t\tSession.set('project', 'about');\n\t\t}\n\t}\n});\n}).call(this);\n","servePath":"/lib/routes.js","sourceMap":{"version":3,"sources":["/lib/routes.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/lib/routes.js","sourcesContent":["// reusable function to reset application states\nfunction reset() {\n\tSession.set('viewingBlog', false);\n\tSession.set('editing', false);\n\tSession.set('viewingProject', undefined);\n\tSession.set('editingProject', undefined);\n\tSession.set('singlePost', false);\n\tSession.set('modal', undefined);\n}\n\nFlowRouter.notFound = {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\tFlowRouter.go('/');\n\t\t}\n\t}\n};\n\n// root\nFlowRouter.route('/', {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tdocument.title = 'dkoo dot net';\n\t\t\tBlazeLayout.render('main', {content: 'home'});\n\t\t}\n\t}\n});\n\n// login route\nvar accounts = FlowRouter.group({\n\tname: 'accounts'\n});\n\naccounts.route('/admin', {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\tif ( !!Meteor.user() ) {\n\t\t\t\tFlowRouter.go('/');\n\t\t\t} else {\n\t\t\t\treset();\n\t\t\t\tdocument.title = 'Log In';\n\t\t\t\tBlazeLayout.render('main', {content: 'admin'});\n\t\t\t}\n\t\t}\n\t}\n});\n\n// blog routes\nvar blog = FlowRouter.group({\n\tprefix: '/blog',\n\tname: 'blog'\n});\n\nblog.route('/', {\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tvar search = FlowRouter.getQueryParam('search');\n\n\t\t\tif ( search ) {\n\t\t\t\tSession.set('searching', true);\n\t\t\t\tSession.set('filter', search);\n\t\t\t} else {\n\t\t\t\tSession.set('searching', false);\n\t\t\t\tSession.set('filter', '');\n\t\t\t}\n\n\t\t\tSession.set('viewingBlog', true);\n\t\t\tdocument.title = 'dkoo dot net → blog';\n\t\t\tBlazeLayout.render('main', {content: 'home'});\n\t\t}\n\t}\n});\n\nblog.route('/:slug', {\n\t// preload subscription\n\tsubscriptions: function(params, queryParams) {\n\t\tif ( params.slug === 'new' ) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis.register('post', Meteor.subscribe('posts', { slug: params.slug }, {}, ''));\n\t\t}\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\tif ( FlowRouter.getParam('slug') === 'new' ) {\n\t\t\t\tSession.set('editing', true);\n\t\t\t}\n\t\t\treset();\n\t\t\tSession.set('viewingBlog', true);\n\t\t\tSession.set('singlePost', true);\n\t\t\t\n\t\t\tvar post = Posts.findOne({ slug: FlowRouter.getParam('slug') });\n\t\t\t\n\t\t\tif ( post ) {\n\t\t\t\tdocument.title = 'dkoo dot net → ' + post.title;\n\t\t\t}\n\n\t\t\tBlazeLayout.render('main', {content: 'home'});\n\t\t}\n\t}\n});\n\n// project routes\nvar projects = FlowRouter.group({\n\tprefix: '/projects',\n\tname: 'projects'\n});\n\nprojects.route('/', {\n\tsubscriptions: function(params, queryParams) {\n\t\tthis.register('projects', Meteor.subscribe('projects'));\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tBlazeLayout.render('main', {content: 'projects'});\n\t\t\tdocument.title = 'dkoo dot net → projects';\n\t\t}\n\t}\n});\n\nprojects.route('/:project', {\n\tsubscriptions: function(params, queryParams) {\n\t\tthis.register('projects', Meteor.subscribe('projects'));\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tBlazeLayout.render('main', {content: 'projects'});\n\t\t\tSession.set('viewingProject', true);\n\t\t}\n\t}\n});\n\n// about route\nFlowRouter.route('/about', {\n\tsubscriptions: function(params, queryParams) {\n\t\tthis.register('projects', Meteor.subscribe('projects'));\n\t},\n\taction: function() {\n\t\tif ( Meteor.isClient ) {\n\t\t\treset();\n\t\t\tBlazeLayout.render('main', {content: 'projects'});\n\t\t\tSession.set('viewingProject', true);\n\t\t\tSession.set('project', 'about');\n\t\t}\n\t}\n});"]}},{"type":"js","data":"(function(){Meteor.utils = {\n\t// append messages for admin screens\n\tappendMessages: function(parent, HTML) {\n\t\tvar messages = document.getElementById('messages') || document.createElement('div');\n\t\tmessages.setAttribute('id', 'messages');\n\t\tmessages.innerHTML = HTML;\n\t\tparent.appendChild(messages);\n\t},\n\tprettifyDate: function(dateString) {\n\t\tvar days = ['Sun', 'Mon', 'Tues', 'Wed', 'Thurs', 'Fri', 'Sat'];\n\n\t\t// Create an array with the current month, day and time\n\t\tvar date = [ dateString.getMonth() + 1, dateString.getDate(), dateString.getFullYear() ];\n\n\t\t// Create an array with the current hour, minute and second\n\t\tvar time = [ dateString.getHours(), dateString.getMinutes() ];\n\n\t\t// Determine AM or PM suffix based on the hour\n\t\tvar suffix = ( time[0] < 12 ) ? 'AM' : 'PM';\n\n\t\t// Convert hour from military time\n\t\ttime[0] = ( time[0] < 12 ) ? time[0] : time[0] - 12;\n\n\t\t// If hour is 0, set it to 12\n\t\ttime[0] = time[0] || 12;\n\n\t\t// If seconds and minutes are less than 10, add a zero\n\t\tfor ( var i = 1; i < 3; i++ ) {\n\t\t\tif ( time[i] < 10 ) {\n\t\t\t\ttime[i] = '0' + time[i];\n\t\t\t}\n\t\t}\n\n\t\treturn [days[dateString.getDay()], date.join('/'), time.join(':') + ' ' + suffix];\n\t},\n\tgetUTC: function(prettifiedDate, prettifiedTime) {\n\t\tvar date = prettifiedDate.split('/'),\n\t\t\ttimeStr = prettifiedTime.toLowerCase() || '12:00 am',\n\t\t\ttime = timeStr.match(/(\\d+)(?::(\\d\\d))?\\s*(p?)/i),\n\t\t\tnewDate;\n\n\t\t// attempt to parse the date and time strings. expected formats:\n\t\t// date: MM/DD/YYYY\n\t\t// time: 9am, 9:00AM, 9:00 am will all work\n\t\t// if date is not given, return false\n\t\t// if time is not given, set it to midnight\n\t\tif ( date.length === 3 && time ) {\n\t\t\tvar hour = parseInt(time[1], 10) || 12,\n\t\t\t\tminute = parseInt(time[2]) || 0;\n\n\t\t\tif ( hour == 12 && !time[3] ) {\n\t\t\t\thour = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\thour += (hour < 12 && time[3]) ? 12 : 0;\n\t\t\t}\n\n\t\t\tnewDate = new Date(parseInt(date[2]), parseInt(date[0]) - 1, parseInt(date[1]), hour, minute);\n\t\t\treturn newDate.getTime();\n\t\t} else {\n\t\t\t// if we can't parse the date and time, return false\n\t\t\treturn false;\n\t\t}\n\t},\n\tmakeSlug: function(title) {\n\t\tvar arr = title.split(' '),\n\t\t\tslug = [],\n\t\t\tnewSlug,\n\t\t\texisting;\n\n\t\tfor ( var i = 0, len = arr.length; i !== len; i++ ) {\n\t\t\tif ( arr[i] ) {\n\t\t\t\t// remove punctuation, make all words lowercase, join with hyphens\n\t\t\t\tslug.push(arr[i].replace(/[^\\w\\s-]|_/g, '').replace(/\\s+/g, ' ').toLowerCase());\n\t\t\t}\n\t\t}\n\n\t\tnewSlug = slug.join('-').replace('--', '-');\n\n\t\texisting = Posts.find( { slug: newSlug } );\n\n\t\t// if there's already one or more posts with this slug, increment the slug\n\t\tif ( existing.count() ) {\n\t\t\tnewSlug += '-' + ( existing.count() + 1 );\n\t\t}\n\n\t\treturn newSlug;\n\t},\n\texcerpt: function(post) {\n\t\tif ( post.excerpt ) {\n\t\t\treturn post.excerpt;\n\t\t} else {\n\t\t\tvar array = post.content.split(' '),\n\t\t\t\texcerpt = array.slice(0, 25).join(' ') + '&#160;&#8230;';\n\n\t\t\treturn array.length >= 25 ? excerpt : post.content;\n\t\t}\n\t},\n\tsmartenQuotes: function(text) {\n\t\treturn text\n\t\t\t.replace(/'''/g, '\\u2034')\t\t\t\t\t\t\t\t\t\t\t\t\t// triple prime\n\t\t\t.replace(/(\\W|^)\"(\\S)/g, '$1\\u201c$2')\t\t\t\t\t\t\t\t\t\t// beginning \"\n\t\t\t.replace(/(\\u201c[^\"]*)\"([^\"]*$|[^\\u201c\"]*\\u201c)/g, '$1\\u201d$2')\t\t\t// ending \"\n\t\t\t.replace(/([^0-9])\"/g,'$1\\u201d')\t\t\t\t\t\t\t\t\t\t\t// remaining \" at end of word\n\t\t\t.replace(/''/g, '\\u2033')\t\t\t\t\t\t\t\t\t\t\t\t\t// double prime\n\t\t\t.replace(/(\\W|^)'(\\S)/g, '$1\\u2018$2')\t\t\t\t\t\t\t\t\t\t// beginning '\n\t\t\t.replace(/([a-z])'([a-z])/ig, '$1\\u2019$2')\t\t\t\t\t\t\t\t\t// conjunction's possession\n\t\t\t.replace(/((\\u2018[^']*)|[a-z])'([^0-9]|$)/ig, '$1\\u2019$3')\t\t\t\t// ending '\n\t\t\t.replace(/(\\u2018)([0-9]{2}[^\\u2019]*)(\\u2018([^0-9]|$)|$|\\u2019[a-z])/ig, '\\u2019$2$3')\t// abbrev. years like '93\n\t\t\t.replace(/(\\B|^)\\u2018(?=([^\\u2019]*\\u2019\\b)*([^\\u2019\\u2018]*\\W[\\u2019\\u2018]\\b|[^\\u2019\\u2018]*$))/ig, '$1\\u2019')\t// backwards apostrophe\n\t\t\t.replace(/'/g, '\\u2032');\n\t}\n}\n}).call(this);\n","servePath":"/lib/utils.js","sourceMap":{"version":3,"sources":["/lib/utils.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"/lib/utils.js","sourcesContent":["Meteor.utils = {\n\t// append messages for admin screens\n\tappendMessages: function(parent, HTML) {\n\t\tvar messages = document.getElementById('messages') || document.createElement('div');\n\t\tmessages.setAttribute('id', 'messages');\n\t\tmessages.innerHTML = HTML;\n\t\tparent.appendChild(messages);\n\t},\n\tprettifyDate: function(dateString) {\n\t\tvar days = ['Sun', 'Mon', 'Tues', 'Wed', 'Thurs', 'Fri', 'Sat'];\n\n\t\t// Create an array with the current month, day and time\n\t\tvar date = [ dateString.getMonth() + 1, dateString.getDate(), dateString.getFullYear() ];\n\n\t\t// Create an array with the current hour, minute and second\n\t\tvar time = [ dateString.getHours(), dateString.getMinutes() ];\n\n\t\t// Determine AM or PM suffix based on the hour\n\t\tvar suffix = ( time[0] < 12 ) ? 'AM' : 'PM';\n\n\t\t// Convert hour from military time\n\t\ttime[0] = ( time[0] < 12 ) ? time[0] : time[0] - 12;\n\n\t\t// If hour is 0, set it to 12\n\t\ttime[0] = time[0] || 12;\n\n\t\t// If seconds and minutes are less than 10, add a zero\n\t\tfor ( var i = 1; i < 3; i++ ) {\n\t\t\tif ( time[i] < 10 ) {\n\t\t\t\ttime[i] = '0' + time[i];\n\t\t\t}\n\t\t}\n\n\t\treturn [days[dateString.getDay()], date.join('/'), time.join(':') + ' ' + suffix];\n\t},\n\tgetUTC: function(prettifiedDate, prettifiedTime) {\n\t\tvar date = prettifiedDate.split('/'),\n\t\t\ttimeStr = prettifiedTime.toLowerCase() || '12:00 am',\n\t\t\ttime = timeStr.match(/(\\d+)(?::(\\d\\d))?\\s*(p?)/i),\n\t\t\tnewDate;\n\n\t\t// attempt to parse the date and time strings. expected formats:\n\t\t// date: MM/DD/YYYY\n\t\t// time: 9am, 9:00AM, 9:00 am will all work\n\t\t// if date is not given, return false\n\t\t// if time is not given, set it to midnight\n\t\tif ( date.length === 3 && time ) {\n\t\t\tvar hour = parseInt(time[1], 10) || 12,\n\t\t\t\tminute = parseInt(time[2]) || 0;\n\n\t\t\tif ( hour == 12 && !time[3] ) {\n\t\t\t\thour = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\thour += (hour < 12 && time[3]) ? 12 : 0;\n\t\t\t}\n\n\t\t\tnewDate = new Date(parseInt(date[2]), parseInt(date[0]) - 1, parseInt(date[1]), hour, minute);\n\t\t\treturn newDate.getTime();\n\t\t} else {\n\t\t\t// if we can't parse the date and time, return false\n\t\t\treturn false;\n\t\t}\n\t},\n\tmakeSlug: function(title) {\n\t\tvar arr = title.split(' '),\n\t\t\tslug = [],\n\t\t\tnewSlug,\n\t\t\texisting;\n\n\t\tfor ( var i = 0, len = arr.length; i !== len; i++ ) {\n\t\t\tif ( arr[i] ) {\n\t\t\t\t// remove punctuation, make all words lowercase, join with hyphens\n\t\t\t\tslug.push(arr[i].replace(/[^\\w\\s-]|_/g, '').replace(/\\s+/g, ' ').toLowerCase());\n\t\t\t}\n\t\t}\n\n\t\tnewSlug = slug.join('-').replace('--', '-');\n\n\t\texisting = Posts.find( { slug: newSlug } );\n\n\t\t// if there's already one or more posts with this slug, increment the slug\n\t\tif ( existing.count() ) {\n\t\t\tnewSlug += '-' + ( existing.count() + 1 );\n\t\t}\n\n\t\treturn newSlug;\n\t},\n\texcerpt: function(post) {\n\t\tif ( post.excerpt ) {\n\t\t\treturn post.excerpt;\n\t\t} else {\n\t\t\tvar array = post.content.split(' '),\n\t\t\t\texcerpt = array.slice(0, 25).join(' ') + '&#160;&#8230;';\n\n\t\t\treturn array.length >= 25 ? excerpt : post.content;\n\t\t}\n\t},\n\tsmartenQuotes: function(text) {\n\t\treturn text\n\t\t\t.replace(/'''/g, '\\u2034')\t\t\t\t\t\t\t\t\t\t\t\t\t// triple prime\n\t\t\t.replace(/(\\W|^)\"(\\S)/g, '$1\\u201c$2')\t\t\t\t\t\t\t\t\t\t// beginning \"\n\t\t\t.replace(/(\\u201c[^\"]*)\"([^\"]*$|[^\\u201c\"]*\\u201c)/g, '$1\\u201d$2')\t\t\t// ending \"\n\t\t\t.replace(/([^0-9])\"/g,'$1\\u201d')\t\t\t\t\t\t\t\t\t\t\t// remaining \" at end of word\n\t\t\t.replace(/''/g, '\\u2033')\t\t\t\t\t\t\t\t\t\t\t\t\t// double prime\n\t\t\t.replace(/(\\W|^)'(\\S)/g, '$1\\u2018$2')\t\t\t\t\t\t\t\t\t\t// beginning '\n\t\t\t.replace(/([a-z])'([a-z])/ig, '$1\\u2019$2')\t\t\t\t\t\t\t\t\t// conjunction's possession\n\t\t\t.replace(/((\\u2018[^']*)|[a-z])'([^0-9]|$)/ig, '$1\\u2019$3')\t\t\t\t// ending '\n\t\t\t.replace(/(\\u2018)([0-9]{2}[^\\u2019]*)(\\u2018([^0-9]|$)|$|\\u2019[a-z])/ig, '\\u2019$2$3')\t// abbrev. years like '93\n\t\t\t.replace(/(\\B|^)\\u2018(?=([^\\u2019]*\\u2019\\b)*([^\\u2019\\u2018]*\\W[\\u2019\\u2018]\\b|[^\\u2019\\u2018]*$))/ig, '$1\\u2019')\t// backwards apostrophe\n\t\t\t.replace(/'/g, '\\u2032');\n\t}\n}"]}},{"type":"js","data":"(function(){Template.blog.onRendered(function() {\n\t// reset 'now' variable every minute, so that new posts appear automatically\n\tMeteor.setInterval(function() {\n\t\tSession.set('now', Date.now());\n\t}, 60000);\n});\n\nTemplate.blog.helpers({\n\tsinglePost: function() {\n\t\tvar postId = this._id || Session.get('editing') || Session.get('singlePost');\n\n\t\treturn postId ? true : false;\n\t},\n\tposts: function() {\n\t\tvar filter = {},\n\t\t\tsearch = Session.get('filter') || '',\n\t\t\tlimit = Session.get('subLimit') || 10,\n\t\t\tnow = Session.get('now') || Date.now(),\n\t\t\toptions = Session.get('subOptions') || {\n\t\t\t\tlimit: limit,\n\t\t\t\tsort: { published: -1 }\n\t\t\t},\n\t\t\tresults;\n\n\t\t// if not logged in, limit visible posts\n\t\tif ( !Meteor.user() ) {\n\t\t\tfilter.status = 'public';\n\t\t\tfilter.published = { $lte: now };\n\t\t}\n\n\t\tSession.set('loading', true);\n\t\t// setup the subscription\n\t\tMeteor.subscribe('posts', filter, options, search, function(err, response) {\n\t\t\tif ( err ) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t});\n\t\tSession.set('loading', false);\n\t\tresults = Posts.find( filter, options );\n\t\treturn results.count() ? results : false;\n\t},\n\texcerpt: function() {\n\t\treturn Meteor.utils.excerpt(this);\n\t},\n\tmore: function() {\n\t\tvar limit = Session.get('subLimit') || 10,\n\t\t\tcount = Posts.find().count();\n\n\t\t// bug: if the total number of posts is a multiple of 10, the 'more' button will always be visible\n\t\tif ( count < limit ) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\tsearching: function() {\n\t\treturn Session.get('searching');\n\t}\n});\n\nTemplate.blog.events({\n\t'click .logout': function(e) {\n\t\tMeteor.logout();\n\t},\n\t'click .more': function(e) {\n\t\tvar limit = Session.get('subLimit') || 10;\n\n\t\tSession.set('subLimit', limit + 10);\n\t},\n\t// infinite scroll\n\t'scroll .posts': function(e) {\n\t\tif ( window.innerHeight + e.target.scrollTop >= e.target.scrollHeight - 50 ) {\n\t\t\tvar limit = Session.get('subLimit') || 10;\n\t\t\tSession.set('subLimit', limit + 10);\n\t\t}\n\t},\n\t'click a.search': function(e) {\n\t\te.preventDefault();\n\n\t\tif ( Session.get('searching') ) {\n\t\t\tSession.set('searching', false);\n\t\t\tSession.set('filter', '');\n\t\t\tFlowRouter.go('/blog');\n\t\t} else {\n\t\t\tSession.set('searching', true);\n\t\t}\n\t},\n\t// hack to fix broken overflow scrolling in iOS\n\t'touchstart div.posts, touchstart div.single': function(e) {\n\t\tif ( e.currentTarget.scrollTop === 0 ) {\n\t\t\te.currentTarget.scrollTop = 1;\n\t\t}\n\t\tif (e.currentTarget.scrollTop === e.currentTarget.scrollHeight - e.currentTarget.clientHeight) {\n\t\t\te.currentTarget.scrollTop = e.currentTarget.scrollHeight - e.currentTarget.clientHeight - 1;\n\t\t}\n\t\te.stopPropagation();\n\t},\n\t'click .delete': function(e) {\n\t\te.preventDefault();\n\t\tMeteor.call('deletePost', this._id);\n\t\tvar blog = document.querySelector('section.blog');\n\n\t\tblog.classList.remove('post');\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/blog/blog.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/blog.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/blog/blog.js","sourcesContent":["Template.blog.onRendered(function() {\n\t// reset 'now' variable every minute, so that new posts appear automatically\n\tMeteor.setInterval(function() {\n\t\tSession.set('now', Date.now());\n\t}, 60000);\n});\n\nTemplate.blog.helpers({\n\tsinglePost: function() {\n\t\tvar postId = this._id || Session.get('editing') || Session.get('singlePost');\n\n\t\treturn postId ? true : false;\n\t},\n\tposts: function() {\n\t\tvar filter = {},\n\t\t\tsearch = Session.get('filter') || '',\n\t\t\tlimit = Session.get('subLimit') || 10,\n\t\t\tnow = Session.get('now') || Date.now(),\n\t\t\toptions = Session.get('subOptions') || {\n\t\t\t\tlimit: limit,\n\t\t\t\tsort: { published: -1 }\n\t\t\t},\n\t\t\tresults;\n\n\t\t// if not logged in, limit visible posts\n\t\tif ( !Meteor.user() ) {\n\t\t\tfilter.status = 'public';\n\t\t\tfilter.published = { $lte: now };\n\t\t}\n\n\t\tSession.set('loading', true);\n\t\t// setup the subscription\n\t\tMeteor.subscribe('posts', filter, options, search, function(err, response) {\n\t\t\tif ( err ) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t});\n\t\tSession.set('loading', false);\n\t\tresults = Posts.find( filter, options );\n\t\treturn results.count() ? results : false;\n\t},\n\texcerpt: function() {\n\t\treturn Meteor.utils.excerpt(this);\n\t},\n\tmore: function() {\n\t\tvar limit = Session.get('subLimit') || 10,\n\t\t\tcount = Posts.find().count();\n\n\t\t// bug: if the total number of posts is a multiple of 10, the 'more' button will always be visible\n\t\tif ( count < limit ) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\tsearching: function() {\n\t\treturn Session.get('searching');\n\t}\n});\n\nTemplate.blog.events({\n\t'click .logout': function(e) {\n\t\tMeteor.logout();\n\t},\n\t'click .more': function(e) {\n\t\tvar limit = Session.get('subLimit') || 10;\n\n\t\tSession.set('subLimit', limit + 10);\n\t},\n\t// infinite scroll\n\t'scroll .posts': function(e) {\n\t\tif ( window.innerHeight + e.target.scrollTop >= e.target.scrollHeight - 50 ) {\n\t\t\tvar limit = Session.get('subLimit') || 10;\n\t\t\tSession.set('subLimit', limit + 10);\n\t\t}\n\t},\n\t'click a.search': function(e) {\n\t\te.preventDefault();\n\n\t\tif ( Session.get('searching') ) {\n\t\t\tSession.set('searching', false);\n\t\t\tSession.set('filter', '');\n\t\t\tFlowRouter.go('/blog');\n\t\t} else {\n\t\t\tSession.set('searching', true);\n\t\t}\n\t},\n\t// hack to fix broken overflow scrolling in iOS\n\t'touchstart div.posts, touchstart div.single': function(e) {\n\t\tif ( e.currentTarget.scrollTop === 0 ) {\n\t\t\te.currentTarget.scrollTop = 1;\n\t\t}\n\t\tif (e.currentTarget.scrollTop === e.currentTarget.scrollHeight - e.currentTarget.clientHeight) {\n\t\t\te.currentTarget.scrollTop = e.currentTarget.scrollHeight - e.currentTarget.clientHeight - 1;\n\t\t}\n\t\te.stopPropagation();\n\t},\n\t'click .delete': function(e) {\n\t\te.preventDefault();\n\t\tMeteor.call('deletePost', this._id);\n\t\tvar blog = document.querySelector('section.blog');\n\n\t\tblog.classList.remove('post');\n\t}\n});"]}},{"type":"js","data":"(function(){Template.edit.onRendered(function() {\n\tSession.set('edited', false);\n\tvar post = Session.get('editing'),\n\t\tdata = Template.currentData() || undefined,\n\t\tcontent = document.querySelector('.content textarea');\n\n\tcontent.style.height = content.scrollHeight + 'px';\n\n\tif ( data._id ) {\n\t\tvar fields = document.getElementsByTagName('pre'),\n\t\t\tfield,\n\t\t\tprettyDate = Meteor.utils.prettifyDate(new Date(data.published));\n\n\t\tfor ( var i = 0, len = fields.length; i !== len; i++ ) {\n\t\t\tfield = fields[i].getAttribute('data-name');\n\n\t\t\tif ( field === 'published-date' ) {\n\t\t\t\tfields[i].textContent = prettyDate[1];\n\t\t\t} else if ( field === 'published-time' ) {\n\t\t\t\tfields[i].textContent = prettyDate[2];\n\t\t\t} else {\n\t\t\t\tfields[i].textContent = data[field];\n\t\t\t}\n\t\t}\n\t}\n});\n\nTemplate.edit.helpers({\n\tnewPost: function() {\n\t\treturn !this._id ? true : false;\n\t},\n\tedited: function() {\n\t\treturn Session.get('edited');\n\t}\n});\n\nTemplate.edit.events({\n\t'click .cancel': function(e) {\n\t\te.preventDefault();\n\t\tif ( Session.get('editing') === true ) {\n\t\t\tFlowRouter.go('/blog');\n\t\t}\n\t\tSession.set('editing', false);\n\t},\n\t'blur pre, blur textarea': function(e) {\n\t\tvar post = Template.currentData() || undefined,\n\t\t\t// fields = document.querySelectorAll('.edit-post form pre'),\n\t\t\tfield = e.target,\n\t\t\tinput;\n\n\t\tif ( field.tagName.toLowerCase() === 'pre' ) {\n\t\t\tinput = Meteor.utils.smartenQuotes(field.textContent.trim());\n\t\t\tif ( input ) { \n\t\t\t\tfield.textContent = input;\n\t\t\t}\n\t\t} else {\n\t\t\t// input = Meteor.utils.smartenQuotes(field.value.trim());\n\t\t\tinput = field.textContent.trim();\n\t\t\tif ( input ) { \n\t\t\t\tfield.value = input;\n\t\t\t}\n\t\t}\n\t},\n\t'keypress pre': function(e) {\n\t\tvar field = e.target.getAttribute('data-name');\n\n\t\tif ( field === 'title' || field === 'published-date' || field === 'published-time' ) {\n\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tSession.set('edited', false);\n\t\t\t} else {\n\t\t\t\tSession.set('edited', true);\n\t\t\t}\n\t\t} else {\n\t\t\tSession.set('edited', true);\n\t\t}\n\t},\n\t'onchange textarea, keyup textarea': function(e) {\n\t\tinput = e.target.value;\n\n\t\tif ( !input ) {\n\t\t\te.target.style.height = '2.5em';\n\t\t} else {\n\t\t\te.target.style.height = e.target.scrollHeight + 'px';\n\t\t}\n\t},\n\t'click .add-tag, keydown input.tags': function(e) {\n\t\tvar field = e.target.value ? e.target : document.querySelector('input.tags'),\n\t\t\tinput = field.value;\n\n\t\tif ( e.keyCode === 13 || e.target.tagName === 'A' ) {\n\t\t\te.preventDefault();\n\n\t\t\tif ( input ) {\n\t\t\t\tMeteor.call('addTag', this._id, input);\n\t\t\t}\n\n\t\t\tfield.value = '';\n\t\t}\n\t},\n\t'click .remove-tag': function(e) {\n\t\te.preventDefault();\n\n\t\tvar doc = Template.currentData();\n\n\t\tMeteor.call('removeTag', doc._id, this.valueOf());\n\t},\n\t'submit .edit-post': function(e) {\n\t\te.preventDefault();\n\n\t\t// gather all the user input\n\t\tvar title = document.querySelector('h1 pre'),\n\t\t\tpublished = document.querySelectorAll('h2 pre'),\n\t\t\tcontent = e.target.content,\n\t\t\ttags = e.target.tags,\n\t\t\texcerpt = document.querySelector('h3 pre'),\n\t\t\tslug = e.target.slug,\n\t\t\ttagArr,\n\t\t\tpost = this._id ? this : { _id: 'new' },\n\t\t\t// get a date number from the entered date and time, if any\n\t\t\tdate = Meteor.utils.getUTC(published[0].textContent.trim(), published[1].textContent.trim()),\n\t\t\tstatus = e.target.visibility,\n\t\t\tinput = {\n\t\t\t\ttitle: title.textContent.trim(),\n\t\t\t\tcontent: content.value.trim(),\n\t\t\t\tstatus: status.value\n\t\t\t};\n\n\t\tif ( date ) {\n\t\t\tinput.published = date;\n\t\t} else {\n\t\t\tif ( post._id === 'new' ) {\n\t\t\t\tinput.published = Date.now();\n\t\t\t}\n\t\t}\n\n\t\tif ( tags.value ) {\n\t\t\ttagArr = tags.value.split('\\n');\n\t\t\tinput.tags = tagArr;\n\t\t}\n\n\t\tif ( excerpt.textContent ) {\n\t\t\tinput.excerpt = excerpt.textContent.trim();\n\t\t}\n\n\t\tif ( slug.value ) {\n\t\t\tif ( slug.value !== post.slug ) {\n\t\t\t\tinput.slug = slug.value.trim();\n\t\t\t}\n\t\t}\n\n\t\tif ( input.title && input.content ) {\n\t\t\tMeteor.call('editPost', post._id, input, function(err, response) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t} else {\n\t\t\t\t\tSession.set('editing', false);\n\t\t\t\t\tif ( input.slug || post._id === 'new' ) {\n\t\t\t\t\t\tFlowRouter.go('/blog/');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMeteor.utils.appendMessages(e.target, '<p><i class=\"fa fa-exclamation-circle\"></i> Title and content are required.</p>');\n\t\t}\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/blog/edit.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/edit.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/blog/edit.js","sourcesContent":["Template.edit.onRendered(function() {\n\tSession.set('edited', false);\n\tvar post = Session.get('editing'),\n\t\tdata = Template.currentData() || undefined,\n\t\tcontent = document.querySelector('.content textarea');\n\n\tcontent.style.height = content.scrollHeight + 'px';\n\n\tif ( data._id ) {\n\t\tvar fields = document.getElementsByTagName('pre'),\n\t\t\tfield,\n\t\t\tprettyDate = Meteor.utils.prettifyDate(new Date(data.published));\n\n\t\tfor ( var i = 0, len = fields.length; i !== len; i++ ) {\n\t\t\tfield = fields[i].getAttribute('data-name');\n\n\t\t\tif ( field === 'published-date' ) {\n\t\t\t\tfields[i].textContent = prettyDate[1];\n\t\t\t} else if ( field === 'published-time' ) {\n\t\t\t\tfields[i].textContent = prettyDate[2];\n\t\t\t} else {\n\t\t\t\tfields[i].textContent = data[field];\n\t\t\t}\n\t\t}\n\t}\n});\n\nTemplate.edit.helpers({\n\tnewPost: function() {\n\t\treturn !this._id ? true : false;\n\t},\n\tedited: function() {\n\t\treturn Session.get('edited');\n\t}\n});\n\nTemplate.edit.events({\n\t'click .cancel': function(e) {\n\t\te.preventDefault();\n\t\tif ( Session.get('editing') === true ) {\n\t\t\tFlowRouter.go('/blog');\n\t\t}\n\t\tSession.set('editing', false);\n\t},\n\t'blur pre, blur textarea': function(e) {\n\t\tvar post = Template.currentData() || undefined,\n\t\t\t// fields = document.querySelectorAll('.edit-post form pre'),\n\t\t\tfield = e.target,\n\t\t\tinput;\n\n\t\tif ( field.tagName.toLowerCase() === 'pre' ) {\n\t\t\tinput = Meteor.utils.smartenQuotes(field.textContent.trim());\n\t\t\tif ( input ) { \n\t\t\t\tfield.textContent = input;\n\t\t\t}\n\t\t} else {\n\t\t\t// input = Meteor.utils.smartenQuotes(field.value.trim());\n\t\t\tinput = field.textContent.trim();\n\t\t\tif ( input ) { \n\t\t\t\tfield.value = input;\n\t\t\t}\n\t\t}\n\t},\n\t'keypress pre': function(e) {\n\t\tvar field = e.target.getAttribute('data-name');\n\n\t\tif ( field === 'title' || field === 'published-date' || field === 'published-time' ) {\n\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tSession.set('edited', false);\n\t\t\t} else {\n\t\t\t\tSession.set('edited', true);\n\t\t\t}\n\t\t} else {\n\t\t\tSession.set('edited', true);\n\t\t}\n\t},\n\t'onchange textarea, keyup textarea': function(e) {\n\t\tinput = e.target.value;\n\n\t\tif ( !input ) {\n\t\t\te.target.style.height = '2.5em';\n\t\t} else {\n\t\t\te.target.style.height = e.target.scrollHeight + 'px';\n\t\t}\n\t},\n\t'click .add-tag, keydown input.tags': function(e) {\n\t\tvar field = e.target.value ? e.target : document.querySelector('input.tags'),\n\t\t\tinput = field.value;\n\n\t\tif ( e.keyCode === 13 || e.target.tagName === 'A' ) {\n\t\t\te.preventDefault();\n\n\t\t\tif ( input ) {\n\t\t\t\tMeteor.call('addTag', this._id, input);\n\t\t\t}\n\n\t\t\tfield.value = '';\n\t\t}\n\t},\n\t'click .remove-tag': function(e) {\n\t\te.preventDefault();\n\n\t\tvar doc = Template.currentData();\n\n\t\tMeteor.call('removeTag', doc._id, this.valueOf());\n\t},\n\t'submit .edit-post': function(e) {\n\t\te.preventDefault();\n\n\t\t// gather all the user input\n\t\tvar title = document.querySelector('h1 pre'),\n\t\t\tpublished = document.querySelectorAll('h2 pre'),\n\t\t\tcontent = e.target.content,\n\t\t\ttags = e.target.tags,\n\t\t\texcerpt = document.querySelector('h3 pre'),\n\t\t\tslug = e.target.slug,\n\t\t\ttagArr,\n\t\t\tpost = this._id ? this : { _id: 'new' },\n\t\t\t// get a date number from the entered date and time, if any\n\t\t\tdate = Meteor.utils.getUTC(published[0].textContent.trim(), published[1].textContent.trim()),\n\t\t\tstatus = e.target.visibility,\n\t\t\tinput = {\n\t\t\t\ttitle: title.textContent.trim(),\n\t\t\t\tcontent: content.value.trim(),\n\t\t\t\tstatus: status.value\n\t\t\t};\n\n\t\tif ( date ) {\n\t\t\tinput.published = date;\n\t\t} else {\n\t\t\tif ( post._id === 'new' ) {\n\t\t\t\tinput.published = Date.now();\n\t\t\t}\n\t\t}\n\n\t\tif ( tags.value ) {\n\t\t\ttagArr = tags.value.split('\\n');\n\t\t\tinput.tags = tagArr;\n\t\t}\n\n\t\tif ( excerpt.textContent ) {\n\t\t\tinput.excerpt = excerpt.textContent.trim();\n\t\t}\n\n\t\tif ( slug.value ) {\n\t\t\tif ( slug.value !== post.slug ) {\n\t\t\t\tinput.slug = slug.value.trim();\n\t\t\t}\n\t\t}\n\n\t\tif ( input.title && input.content ) {\n\t\t\tMeteor.call('editPost', post._id, input, function(err, response) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t} else {\n\t\t\t\t\tSession.set('editing', false);\n\t\t\t\t\tif ( input.slug || post._id === 'new' ) {\n\t\t\t\t\t\tFlowRouter.go('/blog/');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMeteor.utils.appendMessages(e.target, '<p><i class=\"fa fa-exclamation-circle\"></i> Title and content are required.</p>');\n\t\t}\n\t}\n});"]}},{"type":"js","data":"(function(){Template.modal.helpers({\n\t'img': function() {\n\t\treturn Session.get('modal');\n\t}\n});\n\nTemplate.modal.events({\n\t'click .modal': function(e) {\n\t\tSession.set('modal', undefined);\n\t},\n\t'touchmove .modal': function(e) {\n\t\t// prevent scrolling in iOS while modal is active\n\t\te.preventDefault();\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/blog/modal.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/modal.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/blog/modal.js","sourcesContent":["Template.modal.helpers({\n\t'img': function() {\n\t\treturn Session.get('modal');\n\t}\n});\n\nTemplate.modal.events({\n\t'click .modal': function(e) {\n\t\tSession.set('modal', undefined);\n\t},\n\t'touchmove .modal': function(e) {\n\t\t// prevent scrolling in iOS while modal is active\n\t\te.preventDefault();\n\t}\n});"]}},{"type":"js","data":"(function(){Template.post.helpers({\n\tediting: function() {\n\t\treturn Session.get('editing');\n\t},\n\tback: function() {\n\t\tvar search = Session.get('filter');\n\n\t\tif ( search ) {\n\t\t\treturn '/blog?search=' + encodeURI(search).replace('#', '%23');\n\t\t} else {\n\t\t\treturn '/blog';\n\t\t}\n\t}\n});\n\nTemplate.post.events({\n\t'click .edit': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('editing', this._id);\n\t},\n\t'click .delete': function(e) {\n\t\te.preventDefault();\n\t\tMeteor.call('deletePost', this._id);\n\t\tFlowRouter.go('/blog');\n\t},\n\t'click .content img': function(e) {\n\t\tvar img = {\n\t\t\tsrc: e.currentTarget.getAttribute('src'),\n\t\t\tcaption: e.currentTarget.getAttribute('alt')\n\t\t};\n\t\tSession.set('modal', img);\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/blog/post.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/post.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/blog/post.js","sourcesContent":["Template.post.helpers({\n\tediting: function() {\n\t\treturn Session.get('editing');\n\t},\n\tback: function() {\n\t\tvar search = Session.get('filter');\n\n\t\tif ( search ) {\n\t\t\treturn '/blog?search=' + encodeURI(search).replace('#', '%23');\n\t\t} else {\n\t\t\treturn '/blog';\n\t\t}\n\t}\n});\n\nTemplate.post.events({\n\t'click .edit': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('editing', this._id);\n\t},\n\t'click .delete': function(e) {\n\t\te.preventDefault();\n\t\tMeteor.call('deletePost', this._id);\n\t\tFlowRouter.go('/blog');\n\t},\n\t'click .content img': function(e) {\n\t\tvar img = {\n\t\t\tsrc: e.currentTarget.getAttribute('src'),\n\t\t\tcaption: e.currentTarget.getAttribute('alt')\n\t\t};\n\t\tSession.set('modal', img);\n\t}\n});"]}},{"type":"js","data":"(function(){Template.search.onRendered(function() {\n\tvar searchBar = document.querySelector('input.search');\n\n\tsearchBar.focus();\n});\n\nTemplate.search.helpers({\n\tquery: function() {\n\t\treturn Session.get('filter');\n\t}\n});\n\nTemplate.search.events({\n\t'keydown input.search': function(e) {\n\t\tif ( e.keyCode === 27 ) {\n\t\t\tSession.set('searching', false);\n\t\t} else if ( e.keyCode === 13 ) {\n\t\t\tSession.set('filter', e.target.value);\n\t\t\te.target.blur();\n\t\t}\n\t},\n\t'keyup input.search': function(e) {\n\t\tvar searchTerm = e.target.value,\n\t\t\tnow = Session.get('now') || Date.now();\n\n\t\tif ( searchTerm.length > 0 ) {\n\t\t\tSession.set('filter', searchTerm);\n\t\t} else {\n\t\t\tSession.set('filter', '');\n\t\t}\n\t},\n\t'click a.close': function(e) {\n\t\te.preventDefault();\n\n\t\tSession.set('searching', false);\n\t\tSession.set('filter', '');\n\t\tFlowRouter.go('/blog');\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/blog/search.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/search.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/blog/search.js","sourcesContent":["Template.search.onRendered(function() {\n\tvar searchBar = document.querySelector('input.search');\n\n\tsearchBar.focus();\n});\n\nTemplate.search.helpers({\n\tquery: function() {\n\t\treturn Session.get('filter');\n\t}\n});\n\nTemplate.search.events({\n\t'keydown input.search': function(e) {\n\t\tif ( e.keyCode === 27 ) {\n\t\t\tSession.set('searching', false);\n\t\t} else if ( e.keyCode === 13 ) {\n\t\t\tSession.set('filter', e.target.value);\n\t\t\te.target.blur();\n\t\t}\n\t},\n\t'keyup input.search': function(e) {\n\t\tvar searchTerm = e.target.value,\n\t\t\tnow = Session.get('now') || Date.now();\n\n\t\tif ( searchTerm.length > 0 ) {\n\t\t\tSession.set('filter', searchTerm);\n\t\t} else {\n\t\t\tSession.set('filter', '');\n\t\t}\n\t},\n\t'click a.close': function(e) {\n\t\te.preventDefault();\n\n\t\tSession.set('searching', false);\n\t\tSession.set('filter', '');\n\t\tFlowRouter.go('/blog');\n\t}\n});"]}},{"type":"js","data":"(function(){Template.single.helpers({\n\tthisPost: function() {\n\t\tvar slug = FlowRouter.getParam('slug') || Session.get('thisPost'),\n\t\t\tpost = Posts.findOne({slug: slug});\n\n\t\tif ( slug ) {\n\t\t\tMeteor.subscribe('posts', { slug: slug }, {}, '', function(err, response) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t\tpost = Posts.findOne({ slug: slug });\n\t\t}\n\n\t\tif ( !!post ) {\n\t\t\tSession.set('thisPost', slug);\n\t\t\treturn post;\n\t\t} else if ( FlowRouter.getParam('slug') === 'new') {\n\t\t\tSession.set('editing', true);\n\t\t\treturn {};\n\t\t} else {\n\t\t\tif ( slug && !FlowRouter.getQueryParam('search') ) {\n\t\t\t\tFlowRouter.go('/blog');\n\t\t\t}\n\t\t}\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/blog/single.js","sourceMap":{"version":3,"sources":["/client/app/home/blog/single.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/blog/single.js","sourcesContent":["Template.single.helpers({\n\tthisPost: function() {\n\t\tvar slug = FlowRouter.getParam('slug') || Session.get('thisPost'),\n\t\t\tpost = Posts.findOne({slug: slug});\n\n\t\tif ( slug ) {\n\t\t\tMeteor.subscribe('posts', { slug: slug }, {}, '', function(err, response) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t\tpost = Posts.findOne({ slug: slug });\n\t\t}\n\n\t\tif ( !!post ) {\n\t\t\tSession.set('thisPost', slug);\n\t\t\treturn post;\n\t\t} else if ( FlowRouter.getParam('slug') === 'new') {\n\t\t\tSession.set('editing', true);\n\t\t\treturn {};\n\t\t} else {\n\t\t\tif ( slug && !FlowRouter.getQueryParam('search') ) {\n\t\t\t\tFlowRouter.go('/blog');\n\t\t\t}\n\t\t}\n\t}\n});"]}},{"type":"js","data":"(function(){// pass activation token to Session when a new user clicks the enrollment link\nAccounts.onResetPasswordLink(function (token, done) {\n\tSession.set('resetToken', token);\n});\n\n\nTemplate.admin.helpers({\n\treset: function() {\n\t\treturn Session.get('reset');\n\t},\n\tresetting: function(t) {\n\t\tif (Accounts._resetPasswordToken) {\n\t\t\tSession.set('resetToken', Accounts._resetPasswordToken);\n\t\t}\n\n\t\treturn Session.get('resetToken');\n\t}\n});\n\nTemplate.admin.events({\n\t'click .signup': function(e) {\n\t\te.preventDefault();\n\t\tFlowRouter.go('/register');\n\t},\n\t'click .reset': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('reset', true);\n\t},\n\t'click .cancel': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('reset', false);\n\t},\n\t'submit #start-reset': function(e) {\n\t\te.preventDefault();\n\n\t\tvar email = e.target.email.value.trim().toLowerCase(),\n\t\t\terrors = '';\n\n\t\tif ( !email ) {\n\t\t\terrors += '<p>' + errIcon + 'Please enter your account e-mail address.</p>';\n\t\t}\n\t\tif ( email.indexOf('@') === -1 || // email address must contain @\n\t\t\temail.indexOf('.') === -1 // email address must contain .\n\t\t) {\n\t\t\terrors += '<p>' + errIcon + 'Please enter a valid e-mail address.</p>';\n\t\t}\n\t\tif ( errors ) {\n\t\t\tMeteor.utils.appendMessages(e.target, errors);\n\t\t} else {\n\t\t\tSession.set('loading', true);\n\t\t\tAccounts.forgotPassword({email: email}, function(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, err.reason);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, '<p>Recovery e-mail sent!</p>');\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t}\n\t\treturn false;\n\n\t},\n\t'submit #login': function(e) {\n\t\te.preventDefault();\n\n\t\tvar user = {\n\t\t\t\tname: e.target.user.value.trim().toLowerCase(),\n\t\t\t\tpassword: e.target.password.value\n\t\t\t},\n\t\t\terrors = '';\n\n\t\t// validate email and password\n\t\tif ( !user.name || !user.password ) { // if there's no email/password or the email doesn't contain an @ character\n\t\t\tif ( !user.name ) {\n\t\t\t\terrors += '<p>' + errIcon + 'Please enter your username.</p>';\n\t\t\t}\n\t\t\tif ( !user.password ) {\n\t\t\t\terrors += '<p>' + errIcon + 'Please enter your password.</p>';\n\t\t\t}\n\t\t\tif ( errors ) {\n\t\t\t\tMeteor.utils.appendMessages(e.target, errors);\n\t\t\t}\n\t\t\treturn false;\n\t\t} else {\n\t\t\tSession.set('loading', true);\n\t\t\t// if inputs pass validation, attempt to log in with the given email and password\n\t\t\tMeteor.loginWithPassword(user.name, user.password, function(err){\n\t\t\t\t// handle callback errors\n\t\t\t\tif (err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, err.reason);\n\t\t\t\t} else {\n\t\t\t\t\t// successful login\n\t\t\t\t\tconsole.log('logging in');\n\t\t\t\t\tFlowRouter.go('/blog');\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\t},\n\t'submit #reset': function(e) {\n\t\te.preventDefault();\n\t\tvar token = Session.get('resetToken'),\n\t\t\terrIcon = '<i class=\"fa fa-exclamation-circle\"></i>',\n\t\t\tpassword = e.target.password.value,\n\t\t\tconfirm = e.target.confirm.value,\n\t\t\terror = '';\n\n\t\t// validate password fields\n\t\tif ( password.length < 6 ) {\n\t\t\terror += password ? '<p>' + errIcon + 'Password must be at least 6 characters.</p>' : '<p>' + errIcon + 'Please enter a password.</p>';\n\t\t}\n\t\tif ( password !== confirm ) {\n\t\t\terror += '<p>' + errIcon + 'Password fields do not match!</p>';\n\t\t}\n\t\tif ( error ) {\n\t\t\tMeteor.utils.appendMessages(e.target, error);\n\t\t} else {\n\t\t\tSession.set('loading', true);\n\t\t\tAccounts.resetPassword(token, password, function(err) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, err.reason);\n\t\t\t\t} else {\n\t\t\t\t\t// unset Session registration keys\n\t\t\t\t\tSession.set('resetToken', undefined);\n\t\t\t\t\tSession.set('resetting', false);\n\n\t\t\t\t\t// log in with the given password\n\t\t\t\t\tSession.set('loading', true);\n\t\t\t\t\tMeteor.loginWithPassword(Meteor.user().username, password);\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n});\n}).call(this);\n","servePath":"/client/app/admin/admin.js","sourceMap":{"version":3,"sources":["/client/app/admin/admin.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/admin/admin.js","sourcesContent":["// pass activation token to Session when a new user clicks the enrollment link\nAccounts.onResetPasswordLink(function (token, done) {\n\tSession.set('resetToken', token);\n});\n\n\nTemplate.admin.helpers({\n\treset: function() {\n\t\treturn Session.get('reset');\n\t},\n\tresetting: function(t) {\n\t\tif (Accounts._resetPasswordToken) {\n\t\t\tSession.set('resetToken', Accounts._resetPasswordToken);\n\t\t}\n\n\t\treturn Session.get('resetToken');\n\t}\n});\n\nTemplate.admin.events({\n\t'click .signup': function(e) {\n\t\te.preventDefault();\n\t\tFlowRouter.go('/register');\n\t},\n\t'click .reset': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('reset', true);\n\t},\n\t'click .cancel': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('reset', false);\n\t},\n\t'submit #start-reset': function(e) {\n\t\te.preventDefault();\n\n\t\tvar email = e.target.email.value.trim().toLowerCase(),\n\t\t\terrors = '';\n\n\t\tif ( !email ) {\n\t\t\terrors += '<p>' + errIcon + 'Please enter your account e-mail address.</p>';\n\t\t}\n\t\tif ( email.indexOf('@') === -1 || // email address must contain @\n\t\t\temail.indexOf('.') === -1 // email address must contain .\n\t\t) {\n\t\t\terrors += '<p>' + errIcon + 'Please enter a valid e-mail address.</p>';\n\t\t}\n\t\tif ( errors ) {\n\t\t\tMeteor.utils.appendMessages(e.target, errors);\n\t\t} else {\n\t\t\tSession.set('loading', true);\n\t\t\tAccounts.forgotPassword({email: email}, function(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, err.reason);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, '<p>Recovery e-mail sent!</p>');\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t}\n\t\treturn false;\n\n\t},\n\t'submit #login': function(e) {\n\t\te.preventDefault();\n\n\t\tvar user = {\n\t\t\t\tname: e.target.user.value.trim().toLowerCase(),\n\t\t\t\tpassword: e.target.password.value\n\t\t\t},\n\t\t\terrors = '';\n\n\t\t// validate email and password\n\t\tif ( !user.name || !user.password ) { // if there's no email/password or the email doesn't contain an @ character\n\t\t\tif ( !user.name ) {\n\t\t\t\terrors += '<p>' + errIcon + 'Please enter your username.</p>';\n\t\t\t}\n\t\t\tif ( !user.password ) {\n\t\t\t\terrors += '<p>' + errIcon + 'Please enter your password.</p>';\n\t\t\t}\n\t\t\tif ( errors ) {\n\t\t\t\tMeteor.utils.appendMessages(e.target, errors);\n\t\t\t}\n\t\t\treturn false;\n\t\t} else {\n\t\t\tSession.set('loading', true);\n\t\t\t// if inputs pass validation, attempt to log in with the given email and password\n\t\t\tMeteor.loginWithPassword(user.name, user.password, function(err){\n\t\t\t\t// handle callback errors\n\t\t\t\tif (err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, err.reason);\n\t\t\t\t} else {\n\t\t\t\t\t// successful login\n\t\t\t\t\tconsole.log('logging in');\n\t\t\t\t\tFlowRouter.go('/blog');\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\t},\n\t'submit #reset': function(e) {\n\t\te.preventDefault();\n\t\tvar token = Session.get('resetToken'),\n\t\t\terrIcon = '<i class=\"fa fa-exclamation-circle\"></i>',\n\t\t\tpassword = e.target.password.value,\n\t\t\tconfirm = e.target.confirm.value,\n\t\t\terror = '';\n\n\t\t// validate password fields\n\t\tif ( password.length < 6 ) {\n\t\t\terror += password ? '<p>' + errIcon + 'Password must be at least 6 characters.</p>' : '<p>' + errIcon + 'Please enter a password.</p>';\n\t\t}\n\t\tif ( password !== confirm ) {\n\t\t\terror += '<p>' + errIcon + 'Password fields do not match!</p>';\n\t\t}\n\t\tif ( error ) {\n\t\t\tMeteor.utils.appendMessages(e.target, error);\n\t\t} else {\n\t\t\tSession.set('loading', true);\n\t\t\tAccounts.resetPassword(token, password, function(err) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tMeteor.utils.appendMessages(e.target, err.reason);\n\t\t\t\t} else {\n\t\t\t\t\t// unset Session registration keys\n\t\t\t\t\tSession.set('resetToken', undefined);\n\t\t\t\t\tSession.set('resetting', false);\n\n\t\t\t\t\t// log in with the given password\n\t\t\t\t\tSession.set('loading', true);\n\t\t\t\t\tMeteor.loginWithPassword(Meteor.user().username, password);\n\t\t\t\t}\n\t\t\t\tSession.set('loading', false);\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n});"]}},{"type":"js","data":"(function(){// print Date objects in human-readable form\nTemplate.registerHelper('date', function() {\n\tvar prettyDate = Meteor.utils.prettifyDate(new Date(this.published));\n\n\treturn prettyDate[0] + ', ' + prettyDate[1] + ' at ' + prettyDate[2];\n});\n\n// determine post visibility status\nTemplate.registerHelper('private', function() {\n\treturn this.status === 'private' ? true : false;\n});\n\n// encode URL strings for search\nTemplate.registerHelper('uri', function(tag) {\n\treturn '/blog?search=' + encodeURI(this).replace('#', '%23');\n});\n\n// check loading state\nTemplate.registerHelper('loading', function(){\n\treturn Session.get('loading');\n});\n\n// check current status\nTemplate.registerHelper('statusIs', function(status) {\n\treturn this.status === status ? true : false;\n});\n\n// check modal state\nTemplate.registerHelper('modalExists', function() {\n\treturn Session.get('modal');\n});\n}).call(this);\n","servePath":"/client/app/helpers/helpers.js","sourceMap":{"version":3,"sources":["/client/app/helpers/helpers.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/helpers/helpers.js","sourcesContent":["// print Date objects in human-readable form\nTemplate.registerHelper('date', function() {\n\tvar prettyDate = Meteor.utils.prettifyDate(new Date(this.published));\n\n\treturn prettyDate[0] + ', ' + prettyDate[1] + ' at ' + prettyDate[2];\n});\n\n// determine post visibility status\nTemplate.registerHelper('private', function() {\n\treturn this.status === 'private' ? true : false;\n});\n\n// encode URL strings for search\nTemplate.registerHelper('uri', function(tag) {\n\treturn '/blog?search=' + encodeURI(this).replace('#', '%23');\n});\n\n// check loading state\nTemplate.registerHelper('loading', function(){\n\treturn Session.get('loading');\n});\n\n// check current status\nTemplate.registerHelper('statusIs', function(status) {\n\treturn this.status === status ? true : false;\n});\n\n// check modal state\nTemplate.registerHelper('modalExists', function() {\n\treturn Session.get('modal');\n});"]}},{"type":"js","data":"(function(){Template.home.onRendered(function() {\n\tdocument.documentElement.classList.remove('no-scroll');\n});\n\nTemplate.home.helpers({\n\tviewingBlog: function() {\n\t\treturn Session.get('viewingBlog');\n\t}\n});\n}).call(this);\n","servePath":"/client/app/home/home.js","sourceMap":{"version":3,"sources":["/client/app/home/home.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/home/home.js","sourcesContent":["Template.home.onRendered(function() {\n\tdocument.documentElement.classList.remove('no-scroll');\n});\n\nTemplate.home.helpers({\n\tviewingBlog: function() {\n\t\treturn Session.get('viewingBlog');\n\t}\n});"]}},{"type":"js","data":"(function(){Template.editProject.onRendered(function() {\n\tvar data = Template.currentData() || undefined,\n\t\tcontent = document.querySelector('.content');\n\n\tcontent.style.height = content.scrollHeight + 'px';\n\n\tif ( !data ) {\n\t\tdata = {\n\t\t\t_id: false\n\t\t};\n\t}\n\n\tif ( data._id ) {\n\t\tvar fields = document.getElementsByTagName('pre'),\n\t\t\tfield,\n\t\t\tprettyDate = Meteor.utils.prettifyDate(new Date(data.published));\n\n\t\tfor ( var i = 0, len = fields.length; i !== len; i++ ) {\n\t\t\tfield = fields[i].getAttribute('data-name');\n\n\t\t\tif ( field === 'published-date' ) {\n\t\t\t\tfields[i].textContent = prettyDate[1];\n\t\t\t} else if ( field === 'published-time' ) {\n\t\t\t\tfields[i].textContent = prettyDate[2];\n\t\t\t} else {\n\t\t\t\tfields[i].textContent = data[field];\n\t\t\t}\n\t\t}\n\t}\n});\n\nTemplate.editProject.helpers({\n\tnewProject: function() {\n\t\treturn !this._id ? true : false;\n\t},\n\tprojectTitle: function() {\n\t\tvar title = this.title || '',\n\t\t\tHTML = '<pre contentEditable class=\"title\" data-name=\"title\" data-placeholder=\"Project Title\">' + title + '</pre>';\n\n\t\treturn HTML;\n\t}\n});\n\nTemplate.editProject.events({\n\t'click .save': function(e) {\n\t\tSession.set('editingProject', false);\n\t\t// if ( !this._id ) {\n\t\t// \tFlowRouter.go('/projects');\n\t\t// }\n\t},\n\t'click .cancel': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('editingProject', false);\n\t\tif ( !this._id ) {\n\t\t\tSession.set('viewingProject', false);\n\t\t\tFlowRouter.go('/projects');\n\t\t}\n\t},\n\t'onchange textarea, keyup textarea': function(e) {\n\t\tinput = e.target.value;\n\n\t\tif ( !input ) {\n\t\t\te.target.style.height = '2.5em';\n\t\t} else {\n\t\t\te.target.style.height = e.target.scrollHeight + 'px';\n\t\t}\n\t},\n\t'click .add-image, keydown input.image': function(e) {\n\t\tvar field = e.target.value ? e.target : document.querySelector('input.image'),\n\t\t\tinput = field.value;\n\n\t\tif ( e.keyCode === 13 || e.target.tagName === 'A' ) {\n\t\t\te.preventDefault();\n\n\t\t\tif ( input ) {\n\t\t\t\tMeteor.call('addImage', this._id, input);\n\t\t\t}\n\n\t\t\tfield.value = '';\n\t\t}\n\t},\n\t'click figure img': function(e) {\n\t\te.preventDefault();\n\n\t\tvar doc = Template.currentData();\n\n\t\tMeteor.call('removeImg', doc._id, this.valueOf());\n\t},\n\t'submit .edit-project': function(e) {\n\t\te.preventDefault();\n\n\t\t// gather all the user input\n\t\tvar title = document.querySelector('h1 pre'),\n\t\t\tpublished = document.querySelectorAll('h2 pre'),\n\t\t\tcontent = e.target.content,\n\t\t\timages = e.target.images,\n\t\t\t// excerpt = document.querySelector('h3 pre'),\n\t\t\tslug = e.target.slug,\n\t\t\timgArr,\n\t\t\tthumb = e.target.thumb,\n\t\t\tproject = this._id ? this : { _id: 'new' },\n\t\t\t// get a date number from the entered date and time, if any\n\t\t\tdate = Meteor.utils.getUTC(published[0].textContent.trim(), published[1].textContent.trim()),\n\t\t\tstatus = e.target.visibility,\n\t\t\tinput = {\n\t\t\t\ttitle: title.textContent.trim(),\n\t\t\t\tcontent: content.value.trim(),\n\t\t\t\tstatus: status.value\n\t\t\t};\n\n\t\tif ( date ) {\n\t\t\tinput.published = date;\n\t\t} else {\n\t\t\tif ( project._id === 'new' ) {\n\t\t\t\tinput.published = Date.now();\n\t\t\t}\n\t\t}\n\n\t\tif ( images ) {\n\t\t\tif ( images.value ) {\n\t\t\t\timgArr = images.value.split('\\n');\n\t\t\t\tinput.images = imgArr;\n\t\t\t}\n\t\t}\n\n\t\tif ( thumb.value ) {\n\t\t\tinput.thumb = thumb.value;\n\t\t}\n\n\t\tif ( slug.value ) {\n\t\t\tif ( slug.value !== project.slug ) {\n\t\t\t\tinput.slug = slug.value.trim();\n\t\t\t}\n\t\t}\n\n\t\tif ( input.title && input.content ) {\n\t\t\tMeteor.call('editProject', project._id, input, function(err, response) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t} else {\n\t\t\t\t\tSession.set('editing', false);\n\t\t\t\t\tif ( input.slug || project._id === 'new' ) {\n\t\t\t\t\t\tFlowRouter.go('/projects/');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMeteor.utils.appendMessages(e.target, '<p><i class=\"fa fa-exclamation-circle\"></i> Title and content are required.</p>');\n\t\t}\n\t}\n});\n}).call(this);\n","servePath":"/client/app/projects/editProject.js","sourceMap":{"version":3,"sources":["/client/app/projects/editProject.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/projects/editProject.js","sourcesContent":["Template.editProject.onRendered(function() {\n\tvar data = Template.currentData() || undefined,\n\t\tcontent = document.querySelector('.content');\n\n\tcontent.style.height = content.scrollHeight + 'px';\n\n\tif ( !data ) {\n\t\tdata = {\n\t\t\t_id: false\n\t\t};\n\t}\n\n\tif ( data._id ) {\n\t\tvar fields = document.getElementsByTagName('pre'),\n\t\t\tfield,\n\t\t\tprettyDate = Meteor.utils.prettifyDate(new Date(data.published));\n\n\t\tfor ( var i = 0, len = fields.length; i !== len; i++ ) {\n\t\t\tfield = fields[i].getAttribute('data-name');\n\n\t\t\tif ( field === 'published-date' ) {\n\t\t\t\tfields[i].textContent = prettyDate[1];\n\t\t\t} else if ( field === 'published-time' ) {\n\t\t\t\tfields[i].textContent = prettyDate[2];\n\t\t\t} else {\n\t\t\t\tfields[i].textContent = data[field];\n\t\t\t}\n\t\t}\n\t}\n});\n\nTemplate.editProject.helpers({\n\tnewProject: function() {\n\t\treturn !this._id ? true : false;\n\t},\n\tprojectTitle: function() {\n\t\tvar title = this.title || '',\n\t\t\tHTML = '<pre contentEditable class=\"title\" data-name=\"title\" data-placeholder=\"Project Title\">' + title + '</pre>';\n\n\t\treturn HTML;\n\t}\n});\n\nTemplate.editProject.events({\n\t'click .save': function(e) {\n\t\tSession.set('editingProject', false);\n\t\t// if ( !this._id ) {\n\t\t// \tFlowRouter.go('/projects');\n\t\t// }\n\t},\n\t'click .cancel': function(e) {\n\t\te.preventDefault();\n\t\tSession.set('editingProject', false);\n\t\tif ( !this._id ) {\n\t\t\tSession.set('viewingProject', false);\n\t\t\tFlowRouter.go('/projects');\n\t\t}\n\t},\n\t'onchange textarea, keyup textarea': function(e) {\n\t\tinput = e.target.value;\n\n\t\tif ( !input ) {\n\t\t\te.target.style.height = '2.5em';\n\t\t} else {\n\t\t\te.target.style.height = e.target.scrollHeight + 'px';\n\t\t}\n\t},\n\t'click .add-image, keydown input.image': function(e) {\n\t\tvar field = e.target.value ? e.target : document.querySelector('input.image'),\n\t\t\tinput = field.value;\n\n\t\tif ( e.keyCode === 13 || e.target.tagName === 'A' ) {\n\t\t\te.preventDefault();\n\n\t\t\tif ( input ) {\n\t\t\t\tMeteor.call('addImage', this._id, input);\n\t\t\t}\n\n\t\t\tfield.value = '';\n\t\t}\n\t},\n\t'click figure img': function(e) {\n\t\te.preventDefault();\n\n\t\tvar doc = Template.currentData();\n\n\t\tMeteor.call('removeImg', doc._id, this.valueOf());\n\t},\n\t'submit .edit-project': function(e) {\n\t\te.preventDefault();\n\n\t\t// gather all the user input\n\t\tvar title = document.querySelector('h1 pre'),\n\t\t\tpublished = document.querySelectorAll('h2 pre'),\n\t\t\tcontent = e.target.content,\n\t\t\timages = e.target.images,\n\t\t\t// excerpt = document.querySelector('h3 pre'),\n\t\t\tslug = e.target.slug,\n\t\t\timgArr,\n\t\t\tthumb = e.target.thumb,\n\t\t\tproject = this._id ? this : { _id: 'new' },\n\t\t\t// get a date number from the entered date and time, if any\n\t\t\tdate = Meteor.utils.getUTC(published[0].textContent.trim(), published[1].textContent.trim()),\n\t\t\tstatus = e.target.visibility,\n\t\t\tinput = {\n\t\t\t\ttitle: title.textContent.trim(),\n\t\t\t\tcontent: content.value.trim(),\n\t\t\t\tstatus: status.value\n\t\t\t};\n\n\t\tif ( date ) {\n\t\t\tinput.published = date;\n\t\t} else {\n\t\t\tif ( project._id === 'new' ) {\n\t\t\t\tinput.published = Date.now();\n\t\t\t}\n\t\t}\n\n\t\tif ( images ) {\n\t\t\tif ( images.value ) {\n\t\t\t\timgArr = images.value.split('\\n');\n\t\t\t\tinput.images = imgArr;\n\t\t\t}\n\t\t}\n\n\t\tif ( thumb.value ) {\n\t\t\tinput.thumb = thumb.value;\n\t\t}\n\n\t\tif ( slug.value ) {\n\t\t\tif ( slug.value !== project.slug ) {\n\t\t\t\tinput.slug = slug.value.trim();\n\t\t\t}\n\t\t}\n\n\t\tif ( input.title && input.content ) {\n\t\t\tMeteor.call('editProject', project._id, input, function(err, response) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t} else {\n\t\t\t\t\tSession.set('editing', false);\n\t\t\t\t\tif ( input.slug || project._id === 'new' ) {\n\t\t\t\t\t\tFlowRouter.go('/projects/');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMeteor.utils.appendMessages(e.target, '<p><i class=\"fa fa-exclamation-circle\"></i> Title and content are required.</p>');\n\t\t}\n\t}\n});"]}},{"type":"js","data":"(function(){Template.project.helpers({\n\teditingProject: function() {\n\t\treturn Session.get('editingProject');\n\t}\n});\n\nTemplate.project.events({\n\t'click a.close': function(e) {\n\t\te.preventDefault();\n\n\t\tSession.set('viewingProject', undefined);\n\t\tSession.set('editingProject', false);\n\t\tFlowRouter.go('/projects');\n\t},\n\t'click a.action': function(e) {\n\t\te.preventDefault();\n\t},\n\t'click .delete': function(e) {\n\t\te.preventDefault();\n\t\tMeteor.call('deleteProject', this._id);\n\t\tFlowRouter.go('/projects');\n\t},\n\t'click a.edit': function(e) {\n\t\tSession.set('editingProject', true);\n\t},\n\t// hack to fix broken overflow scrolling in iOS\n\t'touchstart .project': function(e) {\n\t\tif ( e.currentTarget.scrollTop === 0 ) {\n\t\t\te.currentTarget.scrollTop = 1;\n\t\t}\n\t\tif (e.currentTarget.scrollTop === e.currentTarget.scrollHeight - e.currentTarget.clientHeight) {\n\t\t\te.currentTarget.scrollTop = e.currentTarget.scrollHeight - e.currentTarget.clientHeight - 1;\n\t\t}\n\t\te.stopPropagation();\n\t}\n});\n}).call(this);\n","servePath":"/client/app/projects/project.js","sourceMap":{"version":3,"sources":["/client/app/projects/project.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/projects/project.js","sourcesContent":["Template.project.helpers({\n\teditingProject: function() {\n\t\treturn Session.get('editingProject');\n\t}\n});\n\nTemplate.project.events({\n\t'click a.close': function(e) {\n\t\te.preventDefault();\n\n\t\tSession.set('viewingProject', undefined);\n\t\tSession.set('editingProject', false);\n\t\tFlowRouter.go('/projects');\n\t},\n\t'click a.action': function(e) {\n\t\te.preventDefault();\n\t},\n\t'click .delete': function(e) {\n\t\te.preventDefault();\n\t\tMeteor.call('deleteProject', this._id);\n\t\tFlowRouter.go('/projects');\n\t},\n\t'click a.edit': function(e) {\n\t\tSession.set('editingProject', true);\n\t},\n\t// hack to fix broken overflow scrolling in iOS\n\t'touchstart .project': function(e) {\n\t\tif ( e.currentTarget.scrollTop === 0 ) {\n\t\t\te.currentTarget.scrollTop = 1;\n\t\t}\n\t\tif (e.currentTarget.scrollTop === e.currentTarget.scrollHeight - e.currentTarget.clientHeight) {\n\t\t\te.currentTarget.scrollTop = e.currentTarget.scrollHeight - e.currentTarget.clientHeight - 1;\n\t\t}\n\t\te.stopPropagation();\n\t}\n});"]}},{"type":"js","data":"(function(){function scroll(project) {\n\tif ( project ) {\n\t\tdocument.documentElement.classList.add('overflow');\n\t} else {\n\t\tdocument.documentElement.classList.remove('overflow');\n\t}\n}\n\nTracker.autorun(function () {\n\tscroll(Session.get('viewingProject'));\n});\n\nTemplate.projects.onRendered(function() {\n\tdocument.documentElement.classList.add('no-scroll');\n});\n\nTemplate.projects.helpers({\n\tviewingProject: function() {\n\t\treturn Session.get('viewingProject');\n\t},\n\tprojects: function() {\n\t\tvar filter = {},\n\t\t\tnow = Session.get('now') || Date.now(),\n\t\t\tresults;\n\n\t\t// if not logged in, limit visible projects\n\t\tif ( !Meteor.user() ) {\n\t\t\tfilter.status = 'public';\n\t\t\tfilter.published = { $lte: now };\n\t\t}\n\n\t\tSession.set('loading', true);\n\n\t\t// setup the subscription\n\t\tMeteor.subscribe('projects', function(err, response) {\n\t\t\tif ( err ) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t});\n\n\t\tresults = Projects.find( { slug: { $not: 'about' } }, { sort: { published: 1 } } );\n\n\t\tSession.set('loading', false);\n\t\treturn results.count() ? results : false;\n\t},\n\tthisProject: function() {\n\t\tvar slug = FlowRouter.getParam('project') || Session.get('project'),\n\t\t\tproject;\n\n\t\tif ( slug ) {\n\t\t\tSession.set('project', slug);\n\t\t\tproject = Projects.findOne( { slug: slug } ) || {};\n\n\t\t\tif ( slug === 'new' ) {\n\t\t\t\tSession.set('editingProject', true);\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\tif ( !project._id ) {\n\t\t\t\t\tFlowRouter.go('/projects');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tproject = {};\n\t\t}\n\n\t\treturn project;\n\t}\n});\n\nTemplate.projects.events({\n\t'click section figure a': function(e) {\n\t\t// e.preventDefault();\n\n\t\tSession.set('viewingProject', true);\n\t},\n\t'click #toolbar .new-project': function(e) {\n\t\tSession.set('viewingProject', 'new');\n\t\tSession.set('editingProject', true);\n\t},\n\t'click #toolbar .logout': function(e) {\n\t\tMeteor.logout();\n\t}\n});\n}).call(this);\n","servePath":"/client/app/projects/projects.js","sourceMap":{"version":3,"sources":["/client/app/projects/projects.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/projects/projects.js","sourcesContent":["function scroll(project) {\n\tif ( project ) {\n\t\tdocument.documentElement.classList.add('overflow');\n\t} else {\n\t\tdocument.documentElement.classList.remove('overflow');\n\t}\n}\n\nTracker.autorun(function () {\n\tscroll(Session.get('viewingProject'));\n});\n\nTemplate.projects.onRendered(function() {\n\tdocument.documentElement.classList.add('no-scroll');\n});\n\nTemplate.projects.helpers({\n\tviewingProject: function() {\n\t\treturn Session.get('viewingProject');\n\t},\n\tprojects: function() {\n\t\tvar filter = {},\n\t\t\tnow = Session.get('now') || Date.now(),\n\t\t\tresults;\n\n\t\t// if not logged in, limit visible projects\n\t\tif ( !Meteor.user() ) {\n\t\t\tfilter.status = 'public';\n\t\t\tfilter.published = { $lte: now };\n\t\t}\n\n\t\tSession.set('loading', true);\n\n\t\t// setup the subscription\n\t\tMeteor.subscribe('projects', function(err, response) {\n\t\t\tif ( err ) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t});\n\n\t\tresults = Projects.find( { slug: { $not: 'about' } }, { sort: { published: 1 } } );\n\n\t\tSession.set('loading', false);\n\t\treturn results.count() ? results : false;\n\t},\n\tthisProject: function() {\n\t\tvar slug = FlowRouter.getParam('project') || Session.get('project'),\n\t\t\tproject;\n\n\t\tif ( slug ) {\n\t\t\tSession.set('project', slug);\n\t\t\tproject = Projects.findOne( { slug: slug } ) || {};\n\n\t\t\tif ( slug === 'new' ) {\n\t\t\t\tSession.set('editingProject', true);\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\tif ( !project._id ) {\n\t\t\t\t\tFlowRouter.go('/projects');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tproject = {};\n\t\t}\n\n\t\treturn project;\n\t}\n});\n\nTemplate.projects.events({\n\t'click section figure a': function(e) {\n\t\t// e.preventDefault();\n\n\t\tSession.set('viewingProject', true);\n\t},\n\t'click #toolbar .new-project': function(e) {\n\t\tSession.set('viewingProject', 'new');\n\t\tSession.set('editingProject', true);\n\t},\n\t'click #toolbar .logout': function(e) {\n\t\tMeteor.logout();\n\t}\n});"]}},{"type":"js","data":"(function(){// startup functions\nMeteor.startup(function() {\n\tSession.set('editing', false);\n\n\tdocument.body.addEventListener('keyup', function(e) {\n\t\tif ( e.keyCode === 27 && (!!Session.get('modal') || !!Session.get('viewingProject')) ) {\n\t\t\tif ( Session.get('modal') ) {\n\t\t\t\tSession.set('modal', undefined);\n\t\t\t}\n\t\t\tif ( Session.get('viewingProject') ) {\n\t\t\t\tSession.set('viewingProject', undefined);\n\t\t\t\tSession.set('editingProject', false);\n\t\t\t\tFlowRouter.go('/projects');\n\t\t\t}\n\t\t}\n\t});\n});\n}).call(this);\n","servePath":"/client/app/main.js","sourceMap":{"version":3,"sources":["/client/app/main.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/app/main.js","sourcesContent":["// startup functions\nMeteor.startup(function() {\n\tSession.set('editing', false);\n\n\tdocument.body.addEventListener('keyup', function(e) {\n\t\tif ( e.keyCode === 27 && (!!Session.get('modal') || !!Session.get('viewingProject')) ) {\n\t\t\tif ( Session.get('modal') ) {\n\t\t\t\tSession.set('modal', undefined);\n\t\t\t}\n\t\t\tif ( Session.get('viewingProject') ) {\n\t\t\t\tSession.set('viewingProject', undefined);\n\t\t\t\tSession.set('editingProject', false);\n\t\t\t\tFlowRouter.go('/projects');\n\t\t\t}\n\t\t}\n\t});\n});"]}}]